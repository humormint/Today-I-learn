# React 복사본

## ****React 강의 OT : 왜 리액트가 필요한가****

**리액트 왜 배우시려고하는 것입니까**

남들 다 하니까요?

그것도 맞는데 **Web app**이란걸 만들기 위해 React를 배워서 그 문법으로 웹사이트를 제작하는 겁니다.

![https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%981.png](https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%981.png)

웹앱은 Vibe, Flipkart, Instagram 이런 사이트들을 웹앱이라고 부릅니다.

다른페이지로 넘어가거나 포스팅을 발행하거나 그런 행동을 해도 새로고침이 되지 않고 **스무스하게** 동작합니다.

모바일 앱이랑 느낌이 비슷해서 앱이라고 부르는 것이죠.

요즘 대기업이든 중소기업이든 사이트를 새로 만들 때 굳이 필요없어도 자주 웹앱을 사용합니다.

그 이유는

- **UX가 뛰어나서 좋은 사용자경험을 제공하니까**
- **HTML 관리가 편해지고**
- **구매전환율도 높아지고**
- **리액트 문법으로 iOS/Android 모바일 앱제작도 가능하고**
- **서버개발자가 편해져서**

## ****리액트 React 설치와 개발환경 셋팅 (2021 ver)****

### **1. 일단 Node.js와 VS code 에디터 설치**

구글에 **Nodejs** 검색해서 **15버전 이상을 설치합시다. (17.0버전은 금지)**

예전에 Nodejs 15미만버전 설치했어도 지우고 재설치 ㄱㄱ합니다.

설치할 때 설치폴더 C드라이브로 잘 잡혀있죠? 그거 변경하지 마시고 다음 다음 계속 잘 눌러주시면 됩니다.

설치 중 chocolatey 어쩌구는 설치 안하셔도 됩니다.

**Visual Studio Code** 에디터도 구글에 검색해서 설치합니다.

(기존 에디터 쓰셔도 되지만 터미널을 기존에 안다뤄본 분들은 필수설치하세요)

![https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%98-1.png](https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%98-1.png)

### **2. 코드를 담을 작업용 폴더를 하나 만듭시다**

찾기좋게 바탕화면에 만드는게 어떨까요.

![https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%982-1.png](https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%982-1.png)

### **3. VSCode 열고 아까 만든 작업용 폴더를 오픈합니다.**

File - Open Folder 메뉴를 이용하시면 됩니다.

그럼 왼쪽 상단에 저렇게 작업폴더명이 뜹니다.

앞으로 코드 짜거나 npm으로 뭐 하기 전 폴더가 제대로 열려있는지 꼭 체크합시다. (플리즈)

![https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%983.png](https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%983.png)

### **4. VSCode 에디터에서 terminal을 열어줍니다**

작업폴더에서 터미널을 열어주어야합니다.

아까 폴더를 잘 오픈하신 뒤 상단 Terminal - New Terminal을 누르시면 됩니다.

그럼 하단에 뭔가 까만 창이 하나 뜨죠? 그게 터미널이라는 것입니다.

터미널에 여러분이 아까 만든 폴더명이 저렇게 빨간 밑줄 처럼 잘 뜨면 리액트 설치 준비 끝입니다.

(안뜨면 폴더 제대로 오픈 안한 것임)

### **5. 터미널에서 명령어를 입력합니다**

create-react-app 라이브러리를 이용하시면 리액트 프로젝트를 쉽게 빠르게 생성할 수 있습니다.

그러니 터미널에서

`npx create-react-app blog`

이렇게 입력하고 엔터치십시오.

npx 어쩌구 이렇게 하시면 특정 라이브러리를 이용해 프로젝트를 하나 생성하실 수 있고

blog라는건 우리의 프로젝트명 결정하는 부분입니다. 자유롭게 작명하실 수 있습니다.

2~3분 기다리시면 되는데,

터미널에 빨간 에러가 나면 페이지 최하단 ↓↓↓ 해결책을 살펴봅시다.

![https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%984.png](https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%984.png)

### **6. 설치가 다 된 것 같으면 생성된 blog 폴더를 다시 에디터로 오픈합니다**

설치를 완료하면 blog라는 이름의 새로운 프로젝트 폴더가 생성됩니다.

이 blog라는 폴더를 에디터로 다시 File - Open folder로 오픈하시고 코딩 시작하시면 됩니다.

꼭 blog 폴더를 오픈하시고 코딩하시길 바랍니다.

폴더 오픈 안하시고 코딩하다가 문제생기면 책임안짐

### **7. 내가 짠 코드를 브라우저에서 미리보기 하고 싶으면**

이제 src폴더 안에 있는 App.js에 코딩 시작하시면 되는데, 코드를 잘 짰는지 미리보기 하고 싶으시면

터미널을 켜신 다음

`npm start`

를 입력해주시면 됩니다.

그럼 브라우저가 자동으로 뜹니다.

(안뜨면 localhost:3000 이라고 크롬 브라우저 열고 직접 입력해주세요)

(안되면 방금만든 blog 폴더를 에디터로 제대로 오픈 안한것임)

## ****JSX를 이용해 HTML 페이지 제작해보는건 처음이겠죠****

**저번시간 셋팅이 완료되었으면 App.js로 들어갑시다**

App.js가 여러분의 메인페이지 역할을 하는 파일입니다.

App.js를 잘 보시면 div가 여러개 등장하는 HTML 부분이 있습니다.

필요없는 HTML 내용들은 다 지우고 div 하나만 남기고 깔끔한 마음으로 시작해보도록 합시다.

```jsx
(App.js의 function App()부분)

function App(){
  return (
    <div className="App">
//다지움 ㅅㄱ
    </div>
  )
}
```

다 지웠으면 이제 미리보기를 한번 띄워봅시다.

터미널을 여시고 npm run start 를 입력해주시면 됩니다.

혹시 yarn이라는 이상한게 깔려있으면 yarn start 입력해주시면 됩니다.

**본격적으로 블로그 상단 nav를 제작해봅시다.**

리액트 환경에서 HTML 레이아웃 어떻게 만드냐고요?

리액트라고 뭐 다르게 코드짠다고 오해하는 분들이 많은데

그냥 옛 방식 그대로 똑같이 div 떡칠해서 짜시면 됩니다.

한번 상단 navbar 역할을 할 div를 하나 만들고 CSS를 넣어보도록 합시다.

CSS는 App.css 파일에 넣으시면 됩니다.

```jsx
(App.js)

function App(){
  return (
    <div className="App">
      <div className="black-nav">
        <div>개발 blog</div>
      </div>
    </div>
  )
}
```

```css
(App.css)

.black-nav {
  background : black;
  width : 100%;
  display : flex;
  color : white;
  padding : 20px;
  font-weight : 600;
  font-size : 20px;
}
```

저장까지하시면 미리보기 화면에서 예쁜 검은 navbar 하나가 생성됩니다. 끝!

근데 HTML을 잘 보시면 `className=""`이라는 이상한 속성이 하나 있죠?

이게 오늘 배울 첫째 문법입니다.

리액트에서 `class=""`를 넣고 싶으면 `className=""` 이라고 사용하셔야합니다.

실은 여러분 HTML을 작성하는 것 같지만 HTML이 아니라 `JSX`라는 문법입니다.

자바스크립트 파일 안에서 HTML을 직관적으로 작성하기 위해 도와주는 리액트 기본 내장 문법이라고 생각하시면 됩니다.

JSX도 일종의 자바스크립트기 때문에

자바스크립트에서 사용하는 예약어인 class라는 키워드를 막 사용하시면 안됩니다.

className이라고 쓰셔야 CSS 파일의 class명을 박아넣을 수 있습니다.

별거아니니까 빠르게 외우십시오.

**JSX에서 데이터바인딩하기**

데이터바인딩이라는 전문용어는 별거아니고

자바스크립트 데이터를 HTML에 꽂아넣는 작업을 뜻합니다.

특히 요즘 프론트엔드 웹앱 개발시 데이터바인딩할 작업이 매우 많은데

리액트는 이걸 매우 쉽게 구현할 수 있습니다.

```jsx
function App(){

  var data = '안녕하세요';
  return (
    <div className="App">
      <div className="black-nav">
        <div>개발 blog</div>
        <div>여기에 꽂고 싶으면?</div>
      </div>
    </div>
  )
}
```

위의 예제를 보시면 data라는 변수를 하나 만들었습니다. (함수 안에 변수만드는건 자유입니다.)

근데 이 data라는 변수를 <div>안에 꽂아 보여주고 싶습니다.

이걸 어떻게 할까요?

옛날 자바스크립트 문법을 쓴다면 `document.getElementById().innerHTML = ??`이런 식이었겠죠.

근데 리액트는 더 쉽게 데이터를 꽂아넣을 수 있습니다.

```jsx
function App(){

  var **data** = '안녕하세요';
  return (
    <div className="App">
      <div className="black-nav">
        <div>개발 blog</div>
        <div>**{ data }**</div>
      </div>
    </div>
  )
}
```

중괄호안에 데이터바인딩하고 싶은 변수명만 담으시면 됩니다.

그럼 실제 미리보기 해보셨을 때 **<div>안녕하세요</div>**가 출력됩니다.

변수명 뿐만 아니라 미리 만들어둔 함수명이든 뭐든 별걸 다 집어넣을 수 있습니다.

그리고 href, id, className, src 등 여러가지 HTML 속성들에도 데이터바인딩이 가능합니다.

```jsx
function App(){

  var data = 'nav';
  return (
    <div className="App">
      <div className="black-nav">
        <div>개발 blog</div>
        <div className={data}>안녕하세요</div>
      </div>
    </div>
  )
}
```

이런 식으로도 온갖 곳에 {} 중괄호를 열어서 변수들을 집어넣을 수 있습니다.

위의 예제는 **<div className="nav">안녕하세요</div>** 라고 데이터바인딩하는 중입니다

**HTML에 스타일을 직접 넣고 싶으면**

style="color : blue" 이런걸 넣고 싶으면 어떻게 하는지 알려드리겠습니다.

JSX 상에서는 무조건 `{}` 오브젝트로 바꿔서 넣으셔야합니다.

```jsx
<div style={ 스타일용 오브젝트 }> 글씨 </div>
```

이렇게 하셔야합니다. (중괄호 있는거 유의하세요)

스타일용 오브젝트 자료형은 어떻게 만드냐면

```jsx
<div style={ {color : 'blue', fontSize : '30px'} }> 글씨 </div>
```

이렇게 하셔야합니다.

- { 속성명 : '속성값' } 이렇게 넣으시면 됩니다.
- 근데 속성명에 - (대쉬)기호를 쓸 수 없습니다. 대쉬기호 대신 모든 단어를 붙여써야합니다. 붙여쓸 땐 앞글자를 대문자로 치환해야합니다.

세상에 style 넣으려면 저런 짓을 해야한다니.. 복잡해보이고 보기싫죠?

그러니 이걸 변수로 따로 저장해놓고 style={변수명} 이렇게 넣으시거나

아니면 그냥 얌전히 CSS파일에 class를 만들어 사용하도록 합시다.

## ****버튼에 기능개발을 해보자 & 리액트 state변경하는 법****

**글제목 옆에 따봉 갯수와 따봉 버튼을 만들어봅시다**

따봉을 누르면 따봉 갯수가 1씩 증가하는 기능을 만들어볼겁니다.

하지만 기능은 좀 나중에 생각하고 일단 좋아요 버튼과 좋아요 갯수를 HTML로 표현해봅시다.

여러분의 App() 이라는 함수 안에 글제목 있죠?

이걸 하단과 같이 수정합니다.

```jsx
<h3> { 글제목[0] } <span>?</span> 0 </h3>
```

그럼 멋진 따봉 UI가 완성됩니다.

미리보기 띄워보면 보이시죠?

여기서 이제 따봉 갯수에 좀 주목을 해보도록 합시다.

지금은 0이라고 하드코딩 해놨는데, 이러면 안될 것 같습니다.

이걸 state 이런걸로 만들어놓아야 갯수가 변경이 될 때 스무스하게 HTML도 재렌더링이 일어나겠죠?

그러니 어서 빨리 **따봉갯수 데이터를 state로 만든 후 HTML에 꽂아넣어보세요.**

(따봉갯수 데이터의 초기값은 0으로 설정합시다)

**따봉갯수 state 만들어보셨습니까**

이렇게 만드시면 되겠죠?

```jsx
function App(){

  let [ 따봉, 따봉변경 ] = useState(0);
  return (
    <HTML 많은 곳>
      <h3> { 글제목[0] } <span>?</span> { 따봉 }</h3>
    </HTML 많은 곳>
  )
}
```

어렵게 생각하지 않으셔도 됩니다.

그냥 state 만들일이 있으면 useState(넣을데이터) 이렇게 이용하시면 되고

그 state 명을 원하는 곳에 적어넣으시면 됩니다.

적어넣을 땐 { state명 } 이렇게 하시면 되겠죠?

**이번엔 버튼의 기능을 만들어봅시다**

버튼을 누르면 따봉이라는 state를 1 증가시키면 기능완성아니겠습니까.

빨리 만들어봅시다.

그럼 새로운걸 하나 배워보도록 합시다.

특정 HTML 요소를 클릭했을 때 자바스크립트를 실행하고 싶으면 어떻게 코드짜죠?

```jsx
<div onclick="실행할 자바스크립트">
```

이렇게 짭니다.

근데 리액트 JSX에서는 약간 문법이 살짝 다릅니다.

```jsx
<div onClick={실행할 함수}>
```

이렇게 짭니다.

1. Click이 대문자인거

2. {} 중괄호 사용하는거

3. 그냥 코드가 아니라 함수를 적는거

이것만 기억해주십시오.

**onClick안에 함수를 적는걸 예를 들자면**

onClick={} 안에는 어디서 만든 함수명을 적거나 아니면 함수 하나를 바로 만들어서 집어넣어주시면 됩니다.

```jsx
<div onClick={ showModal }>  (showModal은 어디 다른데 만들어둔 함수 이름)
<div onClick={ function(){ 실행할 코드 } }>
<div onClick={ () => { 실행할 코드 } }>
```

▲ 셋다 가능합니다.

(옛날 그 addEventListener() 여기에 콜백함수 집어넣는 것 처럼 하시면 됩니다.)

참고로 () => {} 이 코드는 function (){} 이것의 ES6 신버전 문법입니다.

자바스크립트 신문법에선 function 대신 => 이라는 키워드를 이용할 수 있습니다. (완전 똑같은 문법은 아니고 비슷합니다)

**<span>?</span> 을 눌렀을 때 따봉이라는 state를 1 증가하려면 어떻게 해야할까요?**

대충 이런게 아닐까요?

```jsx
function App(){

  let [ 따봉, 따봉변경 ] = useState(0);
  return (
    <HTML 많은 곳>
      <h3> { 글제목[0] } <span onClick={ ()=>{ 따봉 + 1 } } >?</span> { 따봉 }</h3>
    </HTML 많은 곳>
  )
}
```

따봉이라는게 일반 변수였다면 이렇게 하시면 끝입니다.

하지만 이렇게 하면 아무 반응없죠? 재렌더링도 일어나지 않고요.

왜냐면 state는 변수와는 다르게 **값을 변경하실 때 지정된 변경함수를 쓰셔야합니다.**

이게 초보자가 처음 겪는 리액트의 어려운 점입니다.

실은 따봉이라는 값을 변경하는 함수는 useState를 이용할 때 같이 만들었습니다.

```jsx
let [ 따봉, 따봉변경 ] = useState(0);
```

**따봉변경**이라고 만들어놓은 변수가 바로 따봉이라는 state를 변경하기 위한 함수입니다.

사용법은 **따봉변경( 대체할 데이터 )** 입니다.

따봉변경 함수의 소괄호() 내에 있는 데이터로 **완전히 대체**해준다는게 포인트입니다.

**따봉변경(1)** 이라고 사용하시면 따봉이라는 state가 1로 변경됩니다.

**따봉변경(100)** 이라고 사용하시면 따봉이라는 state가 100으로 변경됩니다.

알겠죠? 따봉변경( 따봉 = 따봉 + 1 ) 이런거 안됩니다. 깔끔하게 변경할 값만 넣으시면 됩니다.

**다시) <span>?</span> 을 눌렀을 때 따봉이라는 state를 1 증가하려면 어떻게 해야할까요?**

지금까지의 정보를 바탕으로 빨리 혼자 짜보십시오.

**저는 이렇게 짰습니다.**

```jsx
function App(){

  **let [ 따봉, 따봉변경 ] = useState(0)**;
  return (
    <HTML 많은 곳>
      <h3> { 글제목[0] } <span onClick={ ()=>{ 따봉변경(따봉 + 1) } } >?</span> { 따봉 }</h3>
    </HTML 많은 곳>
  )
}
```

**따봉이라는 기존 state에 1을 더한 값**을 따봉변경 함수에 집어넣었습니다.

그럼 버튼을 누를 때 마다 그 값으로 대체됩니다.

미리보기 화면에서 눌러보면 1씩 증가하죠? 성공!

아무튼 오늘의 결론은

1. 클릭시 뭔가 실행하고 싶으면 onClick={함수} 이렇게 이벤트 핸들러를 달아서 사용합니다.

2. state를 변경하시려면 state 변경함수를 꼭 이용하십시오.

## ****숙제 해설 : 블로그 글 수정버튼 만들기****

저번 시간 내드렸던 숙제가 잘 안되어서 그냥 다음 강의를 누르셨군요. 처음이니 봐드림

클릭하면 첫 글제목이 '여자코트 추천' 으로 바뀌는 <button>을 만들어야합니다.

state를 수정하라는건데 수정하려면 특별한 함수를 써야한댔죠?

근데 그 함수는 완전히 데이터를 바꿔치기, 대체해주는 함수라

state 데이터를 일부만 변경하고 싶을 땐 어떤 식으로 사용하는지 알아봅시다.

**일단 버튼을 만들고 버튼에 기능을 추가하려면**

```jsx
function App(){

  let [글제목, 글제목변경] = useState( ['남자코트 추천', '강남 우동맛집', '파이썬 독학'] );

  return (
    <HTML 많은 곳>
      <button onClick={ 어쩌구~ }> 수정버튼 </button>
      <h3> { 글제목[0] } <span>?</span> { 따봉 }</h3>
    </HTML 많은 곳>
  )
}
```

기존에 있던 코드에 <button>을 아무데나 하나 추가했고,

onClick 속성을 열어서 뭔가 적어주면 기능이 완성되겠죠?

근데 onClick안에 뭘 적을지가 문제입니다.

일단 onClick 안에는 함수만 들어갈 수 있댔죠? 함수를 만들어 집어넣어봅시다.

```jsx
function App(){

  let [글제목, 글제목변경] = useState( ['남자코트 추천', '강남 우동맛집', '파이썬 독학'] );

  function 제목바꾸기() {
    어쩌구~
  }
  return (
    <HTML 많은 곳>
      <button onClick={ 제목바꾸기 }> 수정버튼 </button>
      <h3> { 글제목[0] } <span>?</span> { 따봉 }</h3>
    </HTML 많은 곳>
  )
}
```

함수는 저렇게 function App() 아무데나 만드실 수 있으며

만든 함수를 onClick안에 집어넣었습니다.

미리 정의된 함수를 넣으실 때는 소괄호를 넣지 않는게 포인트입니다.

그럼 즐겁게 **제목바꾸기** 함수 기능개발을 해보도록 합시다.

**제목바꾸기 함수는 state를 변경해야하는데..**

```jsx
function App(){

  let [글제목, 글제목변경] = useState( ['남자코트 추천', '강남 우동맛집', '파이썬 독학'] );

  function 제목바꾸기() {
    글제목[0] = '여자코트 추천'
  }
  return (
    <HTML 많은 곳>
      <button onClick={ 제목바꾸기 }> 수정버튼 </button>
      <h3> { 글제목[0] } <span>?</span> { 따봉 }</h3>
    </HTML 많은 곳>
  )
}
```

제목바꾸기() {} 함수 안을 잘 보십시오.

글제목이라는 state의 첫째 데이터를 변경하고싶으니까 저렇게 쓰면 될까요?

안됩니다. `state는 = 등호기호로 직접 조작할 수 없다니까염.`

만들어놓은 `state 변경함수를 꼭 사용하셔야합니다.`

**글제목** state만들 때 같이 만든 **글제목변경()** 이라는 함수를 사용하시면 됩니다.

```jsx
function 제목바꾸기() {
  글제목변경( ['여자코트 추천', '강남 우동맛집', '파이썬 독학'] )
}
```

그래서 state 변경함수인 **글제목변경()**을 이용해서

**제목바꾸기()** 함수를 이렇게 디자인했습니다.

**Q. 글제목변경() 함수에 array를 왜 저렇게 넣죠?**

A. state변경함수들은 state를 아예 대체할 수만 있다고 저번에 배웠습니다.

그래서 기존 state인 ['남자코트 추천', ‘강남 우동맛집', '파이썬 독학'] 을 바꿔치기할 새로운 array를 넣어주어야합니다.

이렇게 똑같이 따라해주시면 여러분도 버튼을 눌렀을 때 정상적으로 글제목 state가 변경됩니다.

성공!

너무 주먹구구식이라고요?

**약간 프로그래머 스타일로 다시만들어보면**

array 내용이 3개밖에 없어서 위처럼 하드코딩해도 상관없겠지만

array가 조금이라도 길어지면 하드코딩하기 어렵겠죠?

그러니 여러분이 좋아하는 프로그래밍 스킬을 잔뜩 넣어보겠습니다.

▼ 제목바꾸기 함수를 이렇게 프로처럼 바뀌봅시다.

```jsx
function 제목바꾸기() {
  var newArray = 글제목;
  newArray[0] = '여자코트 추천';
  글제목변경( newArray );
}
```

지금 뭘한거냐면..

0. `글제목이라는 state는 직접 수정할 수 없습니다.` 그래서.. `복사본`을 만들기로 합니다.

1. 글제목이라는 state의 복사본을 만들어 **newArray**라는 변수에 저장합니다.

2. newArray의 0번째 데이터를 '여자코트 추천'으로 변경합니다.

3. 그리고 그걸 글제목변경() 함수 안에 넣어서 글제목 state를 변경합니다.

이론적으로 완벽하죠?

근데 동작하지 않습니다.

왜냐면 코드는 잘 짠건 맞는데, state를 복사하실 때 문제가 하나 있었기 때문입니다.

원래 자바스크립트 내에서 array나 object 자료형은 = 등호로 복사하시면 각각 별개의 자료형이 생성되는게 아니라

값을 공유합니다. (충격)

예를 들면

```jsx
var data1 = [1,2,3];
var data2 = data1;
```

이런 식으로 사용하면 data1에 있던 자료를 data2에 복사한다는 뜻이죠?

근데 data1과 data2는 각각 [1,2,3]을 별개로 저장하는게 아니라

**data1과 data2는 똑같은 값을 공유합니다.**

data1을 변경하면 data2도 자동으로 변경되고 그렇습니다. (충격)

(자세한건 javascript reference data type이라고 검색해봅시다)

그래서 결론은 state도 등호 = 를 이용해서 복사하면 문제가 일어나기 때문에

완전히 개별 복사본을 만들어주는 카피를 하셔야합니다.

`deep copy`라고 부르는데 가장 쉬운 방법은

```jsx
var 새로운어레이 = [...원본어레이]
```

이렇게 사용하는 것입니다.

그래서 이렇게 하시면 안되고

```jsx
function 제목바꾸기() {
  var newArray = **글제목**;
  newArray[0] = '여자코트 추천';
  글제목변경( newArray );
}
```

이렇게 하시면 성공입니다.

```jsx
function 제목바꾸기() {
  var newArray = **[...글제목]**;
  newArray[0] = '여자코트 추천';
  글제목변경( newArray );
}
```

성공적으로 글제목 state의 사본을 생성했으며,

그 사본을 입맛에 맞게 조작한 다음에

state 변경함수에 넣어주시면 state가 성공적으로 수정됩니다.

**저기요 쩜쩜쩜... 기호는 뭔데요**

spread 연산자라고하는 ES6 신문법입니다.

array나 object 자료형 왼쪽에 붙일 수 있으며

뜻은 별거없고 **중괄호나 대괄호를 벗겨주세요~** 라는 뜻입니다.

**...[1,2,3]** 이렇게 쓰시면

그 자리에 **1,2,3** 이 남습니다. 걍 괄호 벗기기용 연산자입니다.

근데 두번째 용도도 있는데 array나 object 자료형을 shallow/deep copy할 때 많이 사용합니다.

```jsx
var data1 = [1,2,3];
var data2 = [...data1]
```

그냥 data1에 있던 자료들을 괄호 벗긴담에 다시 array로 만들어주세요~ 라는 뜻인데

array를 이런 식으로 사용하면

완전 **독립적인 array 복사본을 생성해주는 copy**가 가능합니다.

object 자료형도 똑같이 가능합니다.

아무튼 오늘의 결론입니다.

리액트에서 state를 수정하고 싶으면 보통 이런 패턴으로 코드를 짭니다.

**1. 수정하고 싶은 state의 deep/shallow 카피본을 하나 생성합니다.**

**2. 카피본을 입맛에 맞게 수정합니다.**

**3. 카피본을 state변경함수()에 집어넣습니다.**

이 패턴을 외워두시면 state 변경하는 법 마스터하신겁니다.

**응용문제 : 정렬 기능을 만들고 싶으면?**

Q. 이번엔 버튼을 누르면 글들이 가나다 순으로 정렬되어야합니다.

어떻게 버튼에 기능개발해야할까요?

이번 문제는 답은 따로 없습니다. 여러분이 잘 알아서해보길 바랍니다.

힌트를 드리자면

지금 3개의 글들이 state에 저장되어있고 이걸 HTML에 데이터바인딩했습니다.

그럼 여러분이 신경쓸 일은 **HTML을 어떻게 정렬할까**가 아니라

**state를 어떻게 정렬할까** 입니다.

리액트는 **state를 변경하면 HTML은 알아서 재렌더링되니까요.**

기존 전통 개발방식처럼 "잉 div 위치를 어떻게 바꿔줘야하나?" 는 전혀 신경쓸 일이 없습니다.

state 순서만 정렬하면 div 순서는 알아서 정렬 + 재렌더링 됩니다.

그러니 버튼을 눌렀을 때 글목록 array가 담긴 state를 한번 정렬해보시길 바랍니다.

당연히 array 내의 아이템을 가나다 순으로 정렬하는 법을 모를 땐 구글 검색 ㄱㄱ

## ****React Component : 많은 div들을 한 단어로 줄이고 싶은 충동이 들 때****

오늘은 모달창처럼 뜨는 상세페이지를 한번 만들어보도록 합시다.

근데 모달창 하나에 필요한 <div>가 좀 많을 것으로 예상합니다.

그래서 많은 HTML을 한 단어로 깔끔하게 축약할 수 있는 Component 문법을 이용해서 만들겁니다.

**상세페이지 겸 모달창 UI를 하나 만들어봅시다**

일단 HTML CSS부터 잘 짜서 여러분의 메인페이지 안의 원하는 곳에 넣어보십시오.

```jsx
<div className="modal">
  <h2>제목</h2>
  <p>날짜</p>
  <p>상세내용</p>
</div>
```

```css
.modal{
  margin-top : 20px;
  padding : 20px;
  background : #eee;
}
```

각각 App.js, App.css 아무데나 집어넣어보십시오.

근데 HTML짤 때 유의할 점은, **return () 안에 HTML을 넣으실 때**

```jsx
return(
  <div></div><div></div>
)
```

이런거 안됩니다. **태그 2개를 평행하게 적어넣을 수 없습니다.**

굳이 쓰고 싶다면 이걸 <div>같은 걸로 한번 더 감싸셔야합니다.

```jsx
return(
  <div>
    <div></div>
    <div></div>
  </div>
)
```

이렇게 하셔야합니다. return() 안엔 태그 하나만 들어갈 수 있습니다.

**복잡한 HTML들을 한 단어로 치환할 수 있는 `Component`문법**

리액트는 긴 HTML을 한 단어로 깔끔하게 치환해서 넣을 수 있는 문법을 제공합니다.

Component라고 합니다.

이걸 이용하시면 함수 만들듯, 변수 만들듯 HTML을 깔끔하게 한 단어로 치환해서 원하는 곳에 꽂아넣을 수 있습니다.

우리 방금 만든 모달창도 깔끔하게 한 단어로 치환해봅시다.

이렇게 따라합니다.

```jsx
function App (){
  return (
    <div>
      HTML 잔뜩있는 곳
      ...
      <Modal></Modal>
    </div>
  )
}

function Modal(){
  return (
    <div className="modal">
      <h2>제목</h2>
      <p>날짜</p>
      <p>상세내용</p>
    </div>
  )
}
```

▲ 이렇게 하시면 원하는 HTML을 한 단어로 줄일 수 있습니다.

줄이는 법은

1. function을 이용해서 함수를 하나 만들어주시면 되고

2. 그 함수 안에 return () 안에 원하는 HTML을 담으시면 됩니다.

3. 그럼 원하는 곳에서 **`<Modal></Modal>`** 이라고 사용했을 때 아까 축약한 HTML이 등장합니다.

이렇게 축약한 HTML 덩어리를 **Component** 라고 칭합니다.

앞으로 HTML 깔끔하게 축약해서 쓰고싶으면 Component 이런 식으로 많이 만들어 쓰십시오.

Component 문법을 사용하면 <div>지옥보다는 깔끔하게 <Modal> 이렇게 되어있으니

뭐가 뭔지 바로 파악이 가능하고 나중에 관리하기도 좋겠죠?

**Component의 특징**

1. Component 이름지으실 땐 영어대문자로 보통 시작합니다.

2. return () 안엔 태그들이 평행하게 여러개 들어갈 수 없습니다.

평행하게 여러개의 태그를 쓰고 싶으면 <div>로 묶으셔야합니다.

아니면 의미없는 div를 쓰기 싫으시면 <> </> 이걸로 묶으셔도 됩니다.

```jsx
function 예시컴포넌트(){
  return (
    **<>**
      <div>안녕</div>
      <div>안녕</div>
      <div>안녕</div>
    **</>**
  )
}
```

▲ fragments라는 문법입니다. 의미없는 <div>쓰기 싫을 때 사용가능합니다.

3. component 위치는.. function App(){} 이것과 보통 나란히 만들어줍니다.

왜냐면 function App(){} 이것도 다시보니 컴포넌트 생성문법이죠?

보통 컴포넌트용 function 안에다가 컴포넌트용 function을 만들진 않습니다.

4. 강의에서 언급은 안했는데, component 안에 미리 만들어둔 component 집어넣기도 가능합니다.

```jsx
function Modal(){
  return (
    <div className="modal">
      <h2>제목</h2>
      <p>날짜</p>
      <p>상세내용</p>
      <다른컴포넌트></다른컴포넌트>
    </div>
  )
}
function 다른컴포넌트(){
  return ( <div> 안녕 </div> )
}
```

▲ 그니까 앞서 만든 Modal 컴포넌트의 <div> 안에 다른 컴포넌트를 만들어서 집어넣을 수도 있다는 소리입니다.

그냥 만들어서 집어넣으시면 됩니다.

컴포넌트 이름은 한글로 작성시 작동하지 않을 수 있습니다.

**어떤 HTML들을 Component 만드는게 좋을까**

기준은 없습니다만 관습적으로 어떤 부분을 주로 Component화 하냐면

- 사이트에 반복해서 출현하는 HTML 덩어리들은 Component로 만들면 좋습니다.
- 내용이 매우 자주 변경될 것 같은 HTML 부분을 잘라서 Component로 만들면 좋습니다.
- 다른 페이지를 만들고 싶다면 그 페이지의 HTML 내용을 하나의 컴포넌트로 만드시는게 좋습니다. (그냥 좋을 뿐 필수는 아님)
- 또는 다른 팀원과 협업할 때 웹페이지를 컴포넌트 단위로 나눠서 작업을 분배하기도 합니다.

님들 함수문법 언제씁니까 긴 코드 축약할 때, 다른 곳에서 코드 재사용할 때, 기능별로 나눌 때 쓰지 않습니까

그냥 함수 문법이랑 똑같이 여겨주면 됩니다.

**Component의 단점**

일단 HTML 깔끔하게 쓰려고 함수 자체를 많이 만들면 그것 만으로도 관리가 힘듭니다.

하지만 가장 큰 단점은 <Modal>이라는 컴포넌트가 App(){} 안에 있는 state를 사용하고 싶을 때 그냥 바로 쓸 수 없다는 것입니다.

props라는 문법을 이용해 state를 <Modal>까지 전해줘야 비로소 사용가능합니다.

props를 배우진 않았지만 듣기만 해도 귀찮죠?

그러니까 리액트 갓 배운 초보처럼 막 온갖 잡다한걸 Component로 쪼개지 말고 꼭 필요한 곳만 Component로 쪼개시길 바랍니다.

## ****클릭하면 동작하는 UI (모달창) 만드는 법****

클릭하면 등장하는 간단한 UI는 어떻게 만드는지 알아봅시다.

쌩 자바스크립트에선 `display : block` 이런 스타일을 조정해서 보여주고 안보여주고 했었는데

리액트에선 모달창이 현재 보이는지 안보이는지 state를 저장해둔 뒤에

if문을 사용해서 state에 따라 모달창을 보여줍니다.

글만 읽으면 뭔소리인지 이해가 안되니 밑에서 자세히 알아봅시다.

**리액트에서 HTML UI를 조건에 따라 보여주고 싶으면**

특정상황에 맞춰서 HTML을 보여주고 안보여주고 이런건 **if문**을 이용하시면 됩니다.

그럼 만약에 특정 조건이 참일 때만 `<Modal />`을 보여주고 싶으면 어떻게 할까요?

```jsx
function App (){
  return (
    <div>
      HTML 잔뜩있는 곳

      {
         1 < 3
         ? <Modal />
         : null
      }
    </div>
  )
}
```

▲ 실은 리액트 중괄호 내에서 if문을 사용할 수 없어서 if문 대용 역할을 할 수 있는 **삼항연산자**를 사용합니다.

삼항연산자는 if문이랑 똑같은 용도로 사용하실 수 있는 쌩자바스크립트 문법인데

```jsx
조건식 ? 조건식 참일 때 실행할 코드 : 조건식 거짓일 때 실행할 코드
```

이렇게 if문 대신 쓸 수 있는 문법입니다.

그래서 이 문법을 이용해서 1 < 3일 때만 <Modal>을 보여주세요~라고 작성해본 것입니다.

(참고) 리액트에서 텅빈 HTML을 의미하는 코드는 null이라는 자료형입니다.

**(다시 돌아가서) 리액트에서 클릭시 보이는 UI 만드는 법**

**1. 일단 UI가 보이는/보이지않는 상태정보를 state로 만들어둠** (보통 true/false 자료형으로)

**2. state가 true일 때만 UI를 보여준다고 if문을 사용함**

**3. 심심하면 <열기버튼>을 누르면 state가 true로 바뀌도록 버튼에 기능개발함**

그럼 이제 열기버튼을 클릭시 UI가 보입니다.

이게 끝입니다. 모달창 뿐만 아니라 탭, 햄버거메뉴 같은 UI들은 다 이런식으로 만듭니다.

같이 모달창을 한번 만들어봅시다.

**1. 모달창이 보이는/보이지않는 상태정보를 저장할 state를 하나 만들어둡니다.**

```jsx
function App (){

  **let [modal, modal변경] = useState(false);**
  return (
    <div>
      HTML 잔뜩있는 곳

      {
         1 < 3
         ? <Modal />
         : null
      }
    </div>
  )
}
```

modal 이라는 state를 만들었고 `기본값은 false`로 주었습니다.

일종의 온오프 스위치라고 생각하셔도 좋습니다.

**2. if문을 이용해서 스위치가 켜져있을 때만 모달창이 보인다고 명시해줍니다.**

```jsx
function App (){

  let [modal, modal변경] = useState(false);
  return (
    <div>
      HTML 잔뜩있는 곳

      {
         modal === true
         ? <Modal />
         : null
      }
    </div>
  )
}
```

modal 이라는 state가 true일 때만 <Modal />을 보여준다고 작성했습니다.

(그러면 그 state의 기본값은 false기 때문에 사이트 첫 로드시 <Modal />은 보이지 않겠네요? ㅇㅇ)

**3. 열기버튼을 눌렀을 때 모달창이 보이게 만들어줍니다.**

**이건 배운거니까 혼자 한번 해보시고 펼쳐보시길 바랍니다**

```jsx
function App (){

  let [modal, modal변경] = useState(false);
  return (
    <div>
      HTML 잔뜩있는 곳
      <button **onClick={ ()=>{ modal변경(true) } }**> 열기 </button> //모달 변경함수 사용!
      {
         modal === true
         ? <Modal />
         : null
      }
    </div>
  )
}
```

그럼 이제 열기버튼을 눌렀을 때 modal이라는 state가 true로 변경되겠죠?

그럼 if문에 의해 자동으로 `<Modal />`이라는 요소가 보입니다.

**Q. 오잉 왜 state 변경할 때 복사본을 만들어서 수정하라매요?**

A. 사본만드는건 reference 자료형들만 하시면 됩니다. array, object 이런거요.

문자, 숫자, true/false 이런건 필요없이 직접수정하셈

그럼 모달창 띄우기 성공!

이제 모달창 닫기 버튼도 알아서 만들어보실 수 있겠죠?

**오늘의 숙제 : 버튼 눌렀을 때 열리고 한번 더 누르면 닫히는 모달창?**

<button> 버튼을 아무데나 하나 새로 만들어보시고

이 버튼을 한번 누르면 모달창이 열리고, 다시 한번 누르면 모달창이 닫히도록 기능개발해보십시오.

아마 `onClick={}` 안을 잘 짜시면 되겠죠?

**최소 1일은 투자해보고 정 안되면 펼쳐봅시다**

너무 빨리 펼쳐보셨군요 안얄랴줌

원래 혼자 삽질해봐야 기억에 오래남습니다.

이번만 친절하게 알려드리겠습니다.

구현방법은 여러가지인데 그 중 제 방법을 소개해드리자면

```jsx
function App (){

  let [modal, modal변경] = useState(false);
  return (
    <div>

      <button onClick={ ()=>{ modal변경(!modal) } }> 열고닫는버튼 </button>
      {
         modal === true
         ? <Modal />
         : null
      }
    </div>
  )
}
```

이렇게 짜시면 이제 버튼을 누를 때마다

modal이 true라면 false가 되고

modal이 false면 true가 됩니다.

! 느낌표 기호는 true 왼쪽에 붙이면 false로 바꿔주고

false 왼쪽에 붙이면 true로 바꿔줍니다.

그래서 modal이라는 state에 붙이면 지금 state를 반대로 만들어줄 것 같습니다.

그럼 열려있으면 닫히고 닫혀있으면 열리게 됩니다. 끝!

## ****map : 많은 div들을 반복문으로 줄이고 싶은 충동이 들 때****

리액트환경에선 for 반복문을 이용해 HTML을 줄일 수도 있습니다.

그냥 반복문 적고 안에 HTML 담으시면 끝입니다.

하지만 JSX 코딩하던 중간중간에 for 반복문을 직접 쓸 수는 없고 특별한 방법이 좀 필요합니다.

함께 알아봅시다.

**자바스크립트 map 함수 쓰는 법**

JSX 중간중간 중괄호 열고 `{ 변수명 }` 넣던거 기억나시죠?

그럼 반복문도 중괄호 안에서 { for (){} } 이렇게 집어넣을 수 있지않을까라고 생각할 수 있겠지만

{} 중괄호안에는 변수, 함수 이런 것만 입력가능합니다.(for 반복문은 사용불가)

그래서 **중괄호 안에서 쓸 수 있는 map 이라는 반복문을 이용**합니다.

반복문은 아니고 array에 붙일 수 있는 일종의 내장함수인데 뭔지 자세히 알아봅시다.

array 자료형이 하나 있다고 칩시다.

**array 안의 모든 자료에 똑같은 작업을 하나씩 시켜주고 싶을 때**가 가끔 있습니다.

그럴 때 쓰는 문법이 **바로 map 이라는 내장 함수**입니다.

```jsx
var 어레이 = [2,3,4];
어레이.map(function(){

});
```

위처럼 모든 array에 붙일 수 있으며 소괄호 안에 콜백함수 하나 넣는게 기본입니다.

그러면 map 안의 코드가 어레이 자료의 갯수만큼 실행됩니다.

3번 실행되겠네요.

어레이안의 자료에 전부 10을 곱해주고 싶으면 이렇게 작성합니다.

```jsx
var 어레이 = [2,3,4];
어레이.map(function(a){
  return a * 10
});
```

콜백함수 소괄호 안에 파라미터를 아무이름이나 입력해주시면 (저는 a로 입력)

이 a라는 파라미터는 어레이 안에 있던 모든 자료를 하나씩 출력해주는 역할입니다.

그리고 a에 10을 곱하든 20을 곱하든 원하는 작업을 하나 시켜주시면 됩니다.

그럼 어레이에 있던 모든 자료가 10씩 곱해져셔 [20, 30, 40] 이 됩니다.

근데 참고로 map 함수는 원본 자료형을 변형시키지 않아서

보통 새로운 변수에 담아서 사용합니다.

```jsx
var 어레이 = [2,3,4];
var newArray = 어레이.map(function(a){
  return a * 10
});
```

위처럼 작성하면 `newArray`에는 `[20,30,40]`이 담겨져있습니다.

원래 어레이에는 [2,3,4]가 담겨져있고요.

실은 기존 array 자료형을 변형시켜 새로운 array를 만들기 위해 나온 문법입니다.

암튼 여기까지가 map이라는 자바스크립트 문법의 사용법입니다. 끝

이제 이걸 리액트에서 반복문처럼 이용해보도록 합시다.

**JSX 안에서 map으로 반복문을 돌리고 싶으면**

<div>태그를 서너개 생성하고 싶은데, 좀 배운사람처럼 간지나게 반복문을 써보도록 합시다.

글제목이라는 state 갯수에 맞게 3개만 한번 생성해봅시다.

그냥 이렇게 써보시면 잘됩니다.

```jsx
function App (){
  return (
    <div>
      HTML 잔뜩있는 곳
      ...
      { 글제목.map(function(){
        return (<div>안녕</div>)
      }) }
    </div>
  )
}
```

▲ 이렇게 하시면 **<div>안녕</div>** 이라는게 **글제목**이라는 array내의 자료 갯수만큼 남습니다.

**`글제목`**이라는 array엔 **`3개 데이터`**가 들어있으니

실행해보시면 **div도 3개가 남습니다.**

그럼 우리가 예전에 만들었던 제목 UI를 반복문으로 생성해봅시다.

```jsx
function App (){
  return (
    <div>
      HTML 잔뜩있는 곳
      ...
      { 글제목.map(function(){ // 
        return (
        <div className="list">
          <h3>{ 글제목[1] }</h3>
          <p>2월 18일 발행</p>
          <hr />
        </div>
      }) }
    </div>
  )
}
```

▲ 이렇게 하시면 됩니다.

그냥 반복문 쓰실 땐 1. 원하는 자료에다가 map을 붙이시면 그 **자료 갯수만큼 반복문을 돌릴 수 있으며**

2. 반복을 원하는 HTML을 return 안에 적으면 긑입니다.

그러면 기존 코드보다 훨씬 적은 코드로 글목록 HTML을 생성가능합니다. 끝!

**근데 반복된 HTML에 각각 다른 제목을 부여하고 싶다면**

지금 위의 코드를 잘 보시면 **<h3>{ 글제목[1] }</h3>** 이라는 제목만 계속 3번 반복되고 있습니다.

그게 아니라 반복문이 돌 때마다 <h3></h3> 안에 각각

{ 글제목[0] }

{ 글제목[1] }

{ 글제목[2] }

이런 데이터가 들어가게 만들고 싶으면 어떻게 코드를 수정해야할까요?

그것은 아까 map 함수의 사용법을 잘 상기시켜본다면

콜백함수 안에 **a라는 파라미터** 하나 추가하면 그게 바로 어레이 안의 데이터들을 뜻한댔죠?

그걸 한번 써보시면 됩니다.

```jsx
function App (){
  return (
    <div>
      HTML 잔뜩있는 곳
      ...
      { **글제목.map(function(a)**{ // a는 글제목 이라는 array에 있는 하나하나의 데이터들
        return (
        <div className="list">
          <h3>**{ a }**</h3>
          <p>2월 18일 발행</p>
          <hr />
        </div>
      }) }
    </div>
  )
}
```

▲ 이렇게 하시면 이제 각각 다른 제목이 출력됩니다. 끝!

(참고로 a라는 파라미터는 맘에 안들면 아무렇게나 다른 이름으로 작명가능 ㅇㅇ)

**왜 각각 다른 제목이 출력되는지 아직 모르겠어요**

a라는 파라미터는 map이 반복될 때마다 어레이 안에 있던 하나하나의 데이터들을 의미한다고 했습니다.

그니까 a라는건 map 안의 코드가 3번 반복될 때

차례로 **'남자 코트추천' '강남 우동 맛집'** 이런 데이터들이 된다는 소리입니다.

그걸 그냥 <h3> 안에 집어넣었을 뿐입니다.

반복된 HTML 안에 onClick={} 이런거 넣으셔도 잘 작동합니다.

```jsx
function App (){
  return (
    <div>
      HTML 잔뜩있는 곳
      ...
      { **글제목.map(function(a)**{ // a는 글제목 이라는 array에 있는 하나하나의 데이터들
        return (
        <div className="list">
          <h3  onClick={ ()=>{ 따봉변경(따봉+1) } }>{ a }</h3>
          <p>2월 18일 발행</p>
          <hr />
        </div>
      }) }
    </div>
  )
}
```

▲ 위의 예제코드는 그냥 대충 예시로 넣어봤는데,

아무튼 이렇게 해도 문제없이 잘 된다는 소리입니다.

하지만 이렇게 하드코딩하면 3개의 리스트 전부 똑같은 기능을 실행하게 되니( 한 곳에 좋아요 누르면 다른곳도 같이 올라감) 

a라는 파라미터나 그런걸 이용해서 각각 리스트마다 다른 기능을 실행하게 만들 수 있습니다.

그건 나중에 해볼 예정이지만 심심하면 강의에서 설명한 따봉기능 직접 완성해보시길 바랍니다.

**일반 for 반복문을 쓰고싶다면**

그냥 따로 함수를 만들어서 쓰셔야합니다.

1. 따로 일반 함수를 만들고

2. 함수안에 HTML을 담을 array 자료를 하나 생성합니다.( 빈 array 생성)

3. 함수안에서 for 반복문을 이용해 array내에 HTML을 추가해줍니다. `push`

4. 완성된 array를 return 해줍니다.

5. 그리고 함수를 원하는 곳에 { 함수명() } 데이터바인딩 해주시면 됩니다.

예를 들면 이런 식입니다.

```jsx
function App (){

  function 반복된UI(){
    var 어레이 = [];
    for (var i = 0; i < 3; i++) { // 3번 반복
      어레이.push(<div>안녕</div>)
    }
    return 어레이
  }
  return (
    <div>
      HTML 잔뜩있는 곳

      { 반복된UI() }
    </div>
  )
}
```

▲ 위의 예제코드는 for 반복문을 이용해서 div를 3개 만들어보는 예제입니다.

일반 for 반복문은 이런 식으로 함수를 만들고 안에서 쓰는 방법밖엔 없습니다.

for in / for of도 마찬가지입니다.

함수만들기 귀찮으니 코딩꼰대가 아니라면 그냥 map을 쓰도록 합시다.

**(참고) 왜 <div>들을 array에 담냐면**

그냥 여러가지 HTML들을 한곳에 보관하고 싶으면 array 자료형에 보관하시면 됩니다.

그니까 <div></div>를 세개 담고싶으면

**[ <div></div>, <div></div>, <div></div> ]**

이렇게 쭉 담아도 된다는 소리입니다. 이걸 원하는 곳에서 {데이터바인딩} 하시면 div 3개가 연달아서 잘 보입니다.

리액트에선 그냥 HTML들, 정확히 말하면 JSX들을 그냥 array에 담겨있어도 잘 렌더링해줘서 이렇게 쓸 수 있는 것입니다.

## ****props : 자식이 부모의 state를 가져다쓰고 싶을 땐 말하고 쓰셔야합니다****

App이라는 컴포넌트안에 <Modal> 이라는 컴포넌트를 만들어보았습니다.

(이걸 전문용어로 부모 자식관계라고 합니다. **App은 부모** 컴포넌트고 **Modal은 자식** 컴포넌트입니다.)

근데 **자식 컴포넌트가 부모 컴포넌트 안에 있던 state를 갖다 쓰고싶을 때**가 가끔 있습니다.

그럴 땐 대충 { 부모에 있던 state이름 } 이렇게 쓰시면 안되고( 부모에 있던 state이름 그대로 가져다 쓰면 안됨)

`props` 라는 문법으로 state를 전송한 뒤에 `{ props.state이름 }` 이렇게 쓰셔야합니다.

뭔소린지 알아봅시다.

**<Modal>에 실제 제목 데이터바인딩을 해봅시다.**

저번에 만든 `<Modal>` 내부의 제목에 실제 데이터를 집어넣고 싶으면 어떻게 하죠?

실제데이터는 글제목이라는 state변수가 있으니 그걸 그대로 집어넣으면 되지 않을까요?

예를 들면 이렇게 하면 될 것 같지 않습니까

```jsx
function App (){
  let [글제목, 글제목변경] = useState(['남자코트 추천', '강남 우동맛집', '파이썬독학']);
  return (
    <div>
      ...
      <Modal></Modal>
    </div>
  )
}

function Modal(){
  return (
    <div className="modal">
      <h2>제목 { 글제목[0] }</h2>
      <p>날짜</p>
      <p>상세내용</p>
    </div>
  )
}
```

▲ 하지만 **제대로 실행되지 않습니다.**

'글제목'이라는 변수가 define 되지 않았다고 에러가 뜹니다.

왜냐면 글제목이라는 **state 변수는 App()에 있지 Modal()에 없으니까요.**

그럴 때 props라는 문법을 이용해서 Modal까지 state를 전송해주어야합니다.

**props를 알기쉽게 그림으로 표현하자면**

저번시간에 컴포넌트라는걸 쓸 수 있다고 배워봤습니다.

컴포넌트안에 컴포넌트를 집어넣어서 사용할 수 있고요.

그럴 때 안에 들어간 컴포넌트를 **자식컴포넌트**라고 부릅니다.

![https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%981.png](https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%981.png)

▲ 우리가 지금까지 만들었던 사이트를 그림으로 표현하면 이렇게 됩니다.

App이라는건 부모, <Modal>이라는건 자식 컴포넌트입니다.

이 때 <Modal>이라는 자식컴포넌트가 부모인 App이 가진 state를 사용하고 싶다면

그냥 쓰시면 안되고 꼭 전송을 해주어야합니다.

![https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%98-3.png](https://codingapple.com/wp-content/uploads/2020/04/%EC%BA%A1%EC%B2%98-3.png)

전송해주는 문법이 바로 props입니다. (컴포넌트간의 자료 전달법입니다)

**props를 어떻게 사용하냐면**

2개의 step을 따라주시면 됩니다. props 많이 쓰니 꼭 외우십시오.

**1. `<자식컴포넌트 전송할이름={state명}>` 이렇게 사용해주신 후**

**2. 자식컴포넌트 선언하는 `function 안에 파라미터`를 하나 만들어주시면 됩니다.**

하지만 이론만 설명하면 이해가 되지 않으니 예시를 보아야합니다.

**글제목**이라는 부모 컴포넌트의 state를 자식 컴포넌트에 전송해봅시다.

```jsx
function App (){
  **let [글제목, 글제목변경] = useState(['남자코트 추천', '강남 우동맛집', '파이썬독학']);**
  return (
    <div>
      ...
      **<Modal 글제목={글제목}></Modal> //1번**
    </div>
  )
}

function Modal(**props**){ // 2번
  return (
    <div className="modal">
      <h2>제목 { **props.글제목[0]** }</h2> // 2번
      <p>날짜</p>
      <p>상세내용</p>
    </div>
  )
}
```

▲ 두가지 스텝을 밟아주시면 props로 원하는 state를 전송가능합니다.

1. `<Modal 전송할이름={state명}>` 이렇게 원하는 state를 적어주시면 전송됩니다.

2. 그리고 `function Modal(props){}` 이렇게 Modal 함수 `소괄호 내에 파라미터를 하나 추가`해줍니다.

3. 그럼 이제 **`props.전송할이름`** 이렇게 쓰시면 전송된 props를 사용가능합니다.

참고1) props는 **`<Modal 이런거={이런거}  저런거={저런거}>`**이렇게 10개 100개 1000개 무한히 전송이 가능합니다.

참고2) **props라는 파라미터엔 전송한 모든 props 데이터가 들어가있습니다.** props.글제목 이런 식으로 원하는 것만 꺼내쓰시면 됩니다.

참고3) props 전송할 땐 꼭 {} 중괄호로 전송해야하는건 아닙니다.

**<Modal 글제목={변수명}>** 이렇게 변수명을 넣고싶으면 중괄호를 쓰시고

**<Modal 글제목="강남우동맛집">** 이렇게 일반 텍스트를 전송하고 싶으면 따옴표 써도 됩니다.

## ****(UI 제작 패턴) props를 응용한 상세페이지 만들기****

props 문법을 배워봤는데, 이걸 이용해서 상세페이지스러운 UI 하나만 만들어보도록 합시다.

사이트 내에 만든 <h3> 글제목들을 누르면 모달창이 열리는데

**0번째 <h3>**를 누르면 **0번째 글제목**이 모달창 안에 떠야합니다.

**1번째 <h3>**를 누르면 **1번째 글제목**이 모달창 안에 떠야합니다.

그냥 모달창 안에 상세페이지 같은걸 만들어보자는 겁니다.

어떻게 만들면 될까요?

지금부터 설명할 **UI 제작 패턴**만 외워두시면 어떤 UI든 직접 다 만들어내실 수 있습니다.

**예전에 UI 만들 때 어떻게 만들었습니까**

모달창 어떻게 만들었었습니까.

1. 모달창이 현재 보이는/보이지않는 상태정보를 state로 저장해놓고

2. state가 **true**일 때 **모달창 보여주라고** if문 썼었고

3. state가 **false**일 때 **모달창 숨기라고** if문 썼었습니다.

그럼 지금 UI는 어떻게 만들어야할까요.

UI만드는 패턴은 다 비슷합니다.

1. 지금 0,1,2번째 중 몇번째 제목을 눌렀는지 상태정보를 state로 저장해놓고

2. state가 0일 때는 0번째 제목을 저기 출력해주고

3. state가 1일 때는 1번째 제목을 저기 출력해주고

이러면 되지 않을까요?

그냥 UI 관련 정보를 state로 저장해둔 뒤에 state가 달라지면 UI도 달라지게 만들면 됩니다.

패턴은 다 똑같으니 다른 모든 UI 만들때도 한번 적용해보시길 바랍니다.

**글말고 따로 버튼3개를 만들어서 한번 개발해봅시다.**

h3 글을 누르면 뭐 변해야하는데 거기다 개발하면 일단 복잡하니까

<button>을 따로 3개 만들어서 글을 대신해보도록 합시다.

각각 버튼을 누르면 각각 다른 제목의 모달제목이 떠야합니다. 일단 버튼 만들고 생각해봅시다.

```jsx
function App (){
  return (
    <div>
      ...
      <button onClick={()=>{}}>버튼1</button>
      <button onClick={()=>{}}>버튼2</button>
      <button onClick={()=>{}}>버튼3</button>

      모달 어쩌구 있는곳 <Modal></Modal>
    </div>
  )
}

function Modal(props){
  return (
    <div className="modal">
      <h2>제목 { props.글제목[방금누른글번호] }</h2>
      <p>날짜</p>
      <p>상세내용</p>
    </div>
  )
}
```

1. 일단 버튼을 3개 만들었습니다.

2. 그리고 각각 버튼을 누르면 글제목이 수정되어야하기 때문에.. Modal이라는 컴포넌트안에

제목부분을 **props.글제목[방금누른글번호]** 라고 수정했습니다.

말되죠?

그럼 **방금누른글번호**라는 변수가 0이면 0번째 제목이 뜰거아닙니까.

그럼 **방금누른글번호**라는 변수가 1이면 1번째 제목이 뜰거아닙니까.

방금누른글번호라는 변수는 어디다 만들까요?

중요하니까 App안에 만들어봅시다.

그리고 중요한 정보는 일반 변수가 아니라 state로 만들랬죠?

state를 만들어봅시다.

0번째 버튼 누르면 `props.글제목[0]`

1번째 버튼 누르면 `props.글제목[1]`

2번째 버튼 누르면 `props.글제목[2]`

```jsx
function App (){
  **let [누른제목, 누른제목변경] = useState(0)**;
  return (
    <div>
      ...
      <button onClick={()=>{}}>버튼1</button>
      <button onClick={()=>{}}>버튼2</button>
      <button onClick={()=>{}}>버튼3</button>

      모달 어쩌구 있는곳 <Modal></Modal>
    </div>
  )
}

function Modal(**props**){
  return (
    <div className="modal">
      <h2>제목 **{ props.글제목[누른제목] }**</h2>
      <p>날짜</p>
      <p>상세내용</p>
    </div>
  )
}
```

1. 그래서 App안에 **누른제목**이라는 이름의 state를 만들고 기본값을 0으로 주었습니다.

이게 지금 **몇번째 글제목 눌렀는지**의 정보를 보관하는 곳이라고 보시면 되겠습니다.

2. 그리고 모달창 안에 **props.글제목[누른제목]** 이라고 사용했습니다.

그럼 이제 모달창 제목이 의도대로 보일 것입니다.

근데 이렇게 쓰면 **에러**가나죠? 왜입니까.

**부모가 가진 state를 쓰려면 props로 신고하고 써야하니까** 그렇죠.

그래서 신고해보겠습니다. props 쓸 때는 2개의 step이 있다고 배웠었죠?

```jsx
function App (){
  let [누른제목, 누른제목변경] = useState(0);
  return (
    <div>
      ...
      <button onClick={()=>{}}>버튼1</button>
      <button onClick={()=>{}}>버튼2</button>
      <button onClick={()=>{}}>버튼3</button>

      모달 어쩌구 있는곳 **<Modal 글제목={글제목} 누른제목={누른제목} ></Modal>**
    </div>
  )
}

function Modal(props){
  return (
    <div className="modal">
      <h2>제목 { **props.글제목[props.누른제목]** }</h2>
      <p>날짜</p>
      <p>상세내용</p>
    </div>
  )
}
```

1. <Modal>이라는 태그 안에서 원하는 이름의 props를 전송하고

2. 모달 안에서 props.이름 이런 식으로 써야한다고 했습니다. 그래서 해본겁니다.

이제 모달창은 **누른제목**이라는 state의 숫자에 따라서 제목이 변경됩니다.

state에 0,1,2 이런 식의 숫자를 부여하면 각각 다른 제목이 뿅 뜨겠군요.

이제 여러분이 할 일은 버튼을 눌렀을 때 state를 변경하는 것입니다.

그럼 기능이 완성되겠는데요.

**버튼을 눌렀을 때 state를 변경하려면?**

0번째 버튼을 누르면 **누른제목**이라는 state가 0이 되어야합니다.

1번째 버튼을 누르면 **누른제목**이라는 state가 1이 되어야합니다.

어떻게 코드를 짜면 되겠습니까.

```jsx
function App (){
  let [누른제목, 누른제목변경] = useState(0);
  return (
    <div>
      <button **onClick={()=>{ 누른제목 = 0 }}**>버튼1</button>
      <button **onClick={()=>{ 누른제목 = 1 }}**>버튼2</button>
      <button onClick={()=>{}}>버튼3</button>
    </div>
  )
}
```

이런 식으로 짜면 되겠죠?

성공입니다. 기능개발 끝!

는 **함정**이었습니다.

알려드리는 코드를 그대로 아무 생각없이 복붙하시면 안됩니다. 언제나 의심해보십시오.

**state를 변경할 땐 어떻게 하라고 했습니까. 등호쓰면 안됩니다.**

**state 변경함수를 쓰셔야 변경이 됩니다.**

```jsx
function App (){
  let [누른제목, 누른제목변경] = useState(0);
  return (
    <div>
      <button **onClick={()=>{ 누른제목변경(0) }}**>버튼1</button>
      <button **onClick={()=>{ 누른제목변경(1) }}**>버튼2</button>
      <button **onClick={()=>{ 누른제목변경(2) }}**>버튼3</button>
    </div>
  )
}
```

→ ex) 첫번째 버튼 누르면 **`props.글제목[props.누른제목]` → `props.글제목[0]` → `남자코트 추천` 출력**

이렇게 써야합니다. 정말 끝입니다.

이제 버튼말고 **직접 <h3> 글제목부분에 가셔서 누르면 state가 변경되게 만들어보십시오**.

근데 반복문으로 되어있네요 이런

**<h3> 글제목부분에 가셔서 누르면 state가 변경되게 만들어봅시다**

h3 글제목들을 누르면 누른제목이라는 state를 변경해야합니다.

어떻게 코드짜면 되죠?

```jsx
function App (){
  return (
    <div>
      ...
      { 글제목.map(function(a){
        return (
        <div className="list">
          <h3 onClick={ ()=>{ 누른제목변경(0) } }>{ a } <span>?</span> </h3>
          <p>2월 18일 발행</p>
          <hr />
        </div>
      }) }
    </div>
  )
}
```

▲ 뭐 클릭했을 때 뭔가 동작하게 하려면 onClick말고 더 있습니까.

그리고 그 안에 state변경함수를 집어넣었습니다.

대충 0이라고 써넣었기 때문에 지금은 **어떤 제목을 누르든간에 state가 0으로 변경**됩니다.

그럼 0이 아니라 각각 제목들마다

**누른제목변경(0)**

**누른제목변경(1)**

**누른제목변경(2)**

의 코드를 실행하게 하려면 어떻게 해야할까요?

0을 하드코딩하지말고

**누른제목변경(반복문돌때마다 차례로 0,1,2가 되는 변수)**

이걸 집어넣으면 되겠죠뭐..!

그런 변수가 어딨냐고요?

모든 반복문을 보시면 항상 그런 변수가 있습니다.

```jsx
function App (){
  return (
    <div>
      ...
      { 글제목.map(function**(a, i**){
        return (
        <div className="list">
          <h3 onClick={ ()=>{ **누른제목변경(i)** } }>{ a } <span>?</span> </h3>
          <p>2월 18일 발행</p>
          <hr />
        </div>
      }) }
    </div>
  )
}
```

▲ **map 반복문을 쓸 때 i라는 파라미터를 뒤에 추가**해주시면 됩니다.

**두번째 파라미터**는 바로 반복문이 돌면서 0,1,2,3 ... 이렇게 **하나씩 증가하는 정수**를 뜻합니다.

전문 개발용어로 enumerate한다 라고 하는데 그건 알필요가 없고

그냥 i 저렇게 써주시면 0,1,2,3,4... 이런 변수입니다.

그래서 그걸 이용해서 **누른제목변경(i)** 이렇게 입력한 것입니다.

기능개발 끝!

![스크린샷 2022-03-18 오후 5.15.58.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/36481287-9393-43ea-867f-a82e91f7e078/스크린샷_2022-03-18_오후_5.15.58.png)

→ 제목 누르면 해당 내용이 모달창 제목이 되도록 

(결론) 그래서 UI만드는법은 다 똑같습니다.

1. state를 하나 만들고

2. state가 요런 상태면 UI를 이렇게 보여주세요~ 라고 코드 짜놓으면 끝입니다.

3. 그리고 버튼 누르거나할 땐 state를 이렇게 바꿔주세요~ 이런것도 필요하면 추가하고요.

**리액트 안쓰고 썡자바스크립트만으로 개발**할 땐

1. 그냥 버튼누르면 HTML을 이렇게 수정해주세요~ 이렇게 코드 짜는게 끝이었을겁니다.

그래서 옛날에 코딩하던 아조씨들일 수록 기존관습과 달라서 어려워합니다.

그럴땐 **"state는 UI의 현재상태를 보관하는 저장소역할을 하는구나"**만 기억하시면 쉽습니다.

## ****input 다루기 1 : 사용자가 입력한 글을 변수에 저장하는 법****

실제 사이트엔 `<form> <input>` 이런 것들이 매우 많습니다.

여기에 입력된 값을 저장하거나 어디로 보내거나 그래야할 경우가 많은데

리액트에서 input 데이터는 어떻게 처리하는지 알아봅시다.

실은 쌩 자바스크립트 문법이랑 똑같습니다.

그리고 map 반복문 쓰면 콘솔창에 warning 뜨는 것도 마지막 부분에서 해결해보도록 합시다.

**사용자가 input에 입력한 데이터를 state로 저장하는 법**

사용자가 input에 입력한 데이터는 역시나 중요한 데이터기 때문에 state 저장해서 쓰는게 일반적입니다.

저장부터하는 법을 알아봅시다.

저장하려면 일단 **빈 state가 하나가 필요**할테니 state를 하나 만들어봅시다.

```jsx
function App (){

  let [입력값, 입력값변경] = useState('');

  return (
    <div>
      HTML 잔뜩있는 곳...
    </div>
  )
}
```

**빈 state**를 하나 만들어줍니다.

그리고 초기값은 따옴표 두개로 **빈 문자열**을 입력해주면 되겠습니다.

(state 초기값으로 뭐 담을지 모르겠으면 그냥 빈 문자나 빈 array 이런걸 담으시면 됩니다.)

**사용자가 input에 입력한 값 알아내는 법**

input에 입력한 값을 알고싶으면 input에 `onChange` 이벤트핸들러를 달고

그냥 쌩자바스크립트 문법을 쓰시면 됩니다.

```jsx
function App (){

  let [입력값, 입력값변경] = useState('');

  return (
    <div>
      HTML 잔뜩있는 곳...
      <input onChange={ (e)=>{ console.log(e.target.value) } } />
    </div>
  )
}
```

`onChange`라는건 **input에 무언가 입력할 때마다 특정 함수를 동작시키고 싶을 때 사용**합니다.

그래서 입력할 때마다 `console.log(e.target.value)`를 콘솔창에 출력하라고 써놓은 것입니다.

e.target이라는건 쌩자바스크립트 문법으로 '지금 이벤트가 동작하는 HTML요소'

.value라는건 input등에 입력한 값을 의미합니다.

그럼 이제 input에 뭔가 적을 때마다 콘솔창에 input에 입력한 값이 출력이되죠?

이게 리액트에서의 input에 입력한 값 구하는 법입니다.

<input>뿐만 아니라 <textarea>, <select> 이런 태그들에도 똑같이 사용가능합니다.

<input>태그는 원래 HTML에선 그냥 쓸 수 있지만 리액트에선

`<input />` 이렇게 쓰거나

<input></input> 이렇게 써야합니다.

안그럼 태그를 열었는데 안닫았다고 에러납니다.

**input에 뭔가 입력할 때마다 input에 입력된 값을 state에 저장해보자**

input에 뭔가 입력할 때마다 state에 그 값을 저장해봅시다.

그리고 일단 저장해놔야 나중에 활용할 수 있으니까요.

```jsx
function App (){

  let [입력값, 입력값변경] = useState('');

  return (
    <div>
      HTML 잔뜩있는 곳...
      <input onChange={ (e)=>{ **입력값변경(e.target.value)** } />
    </div>
  )
}
```

이렇게 하면 되겠군요

입력값이라는 state를 변경할 땐 입력값변경이라는 함수를 쓸 수 있으니

거기 안에 e.target.value를 담아봤습니다.

그럼 이제 input에 뭔가 입력할 때마다 입력값이라는 state가 `e.target.value` 로 변경됩니다.

끝입니다.

**`e.target` 이게 뭔소린데요**

쌩자바스크립트 문법인데 그냥 현재 onChange 이벤트가 동작하는 HTML을 뜻합니다. (input태그겠죠뭐)

그리고 `.value`는 **그 HTML에 유저가 입력한 값을 출력**해줍니다. 

`e.target.value` → 입력할 때마다 해당 값 출력해줌

역시 기존 자바스크립트 문법을 잘 알아야 리액트도 잘합니다.

**map을 쓰면 콘솔창에 에러가 뜨는 이유는**

`key={}` 라는 속성을 안적어서 그렇습니다.

리액트는 **반복문 돌린 HTML 요소**엔 꼭 `key={}`를 적으라고 권장합니다.

`key={}` 안에는 반복문이 돌 때마다 0,1,2,3... 이렇게 하나씩 증가하는 변수같은걸 넣어주시면 됩니다.

그런 변수가 어딨냐고요? 모든 반복문엔 그런 변수가 항상 있습니다.

`map 반복문`에서 저번에 i라는 변수를 쓸 수 있다고 배워봤습니다.

```jsx
function App (){
  return (
    <div>
      ...
      { 글제목.map(function(a, i){
        return (
        <div className="list" **key={i}**>
          <h3 onClick={ ()=>{ **누른제목변경(i)** } }>{ a } <span>?</span> </h3>
          <p>2월 18일 발행</p>
          <hr />
        </div>
      }) }
    </div>
  )
}
```

▲ i는 반복문이 돌 때마다 0,1,2,3.. 이렇게 증가하는 변수입니다. 그걸 이용해주시면 됩니다.

위처럼 key 속성을 적으시면 이제 반복문을 사용해도 에러가 나지 않습니다.

## ****input 다루기 2 : 블로그 글발행 기능 만들기****

저번 시간 배웠던 input 다루기 스킬을 이용해서

**블로그 글발행 기능**을 만들어봅시다.

물론 **서버가 없어서 영구저장은 안되겠지만** 껍데기만 만들어보죠뭐!

일단 글적을 수 있는 UI가 하나 필요하고,

버튼을 눌렀을 때 글이 하나 추가되게 만들면 되겠군요.

**글적을 수 있는 UI 부터 디자인해봅시다**

input이랑 button 하나만 있으면 될 것 같은데 보기좋게 코드짜기 위해 디자인도 약간 넣어봅시다.

```jsx
function App (){
  let [글제목, 글제목변경] = useState(['남자코트추천', '강남우동맛집', '파이썬독학']);
  return (
    <div>
      HTML 잔뜩 있는 곳
      <div className="publish">
        <input />
        <button>저장</button>
      </div>
    </div>
  )
}
```

```css
/* App.css */.publish {
  margin-top : 30px;
  margin-bottom : 30px;
}
.publish input {
  padding : 10px;
  font-size : 16px;
  border-radius : 5px;
  width : 80%;
  border : 1px solid grey;
}
.publish button {
  display : block;
  margin : auto;
  margin-top : 10px;
}
```

![스크린샷 2022-03-18 오후 6.36.15.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7cbaf0d3-e6d5-4f7c-9cd1-13fb05ed1a79/스크린샷_2022-03-18_오후_6.36.15.png)

이렇게 이쁜 레이아웃을 만들어보았습니다.

**혼자해보십시오) 글 적고 저장버튼 누르면 게시물이 4개 되어야함**

저번 시간에 input에 입력된 값 다루는 법까지 해서 다 알려드렸습니다.

저장버튼을 누르면 방금 작성한 글 포함 글이 4개가 보이도록 코드를 짜보십시오.

30초 생각해보고 "아 모르겟넹 잇힝~" 하면서 포기하시면 안됩니다 최소 30분은 혼자해보십시오.

**10분 동안 운도 못떼었다면 펼쳐볼 힌트**

현재 **[글제목]**이라는 state에 모든 글제목 3개가 저장되어있습니다.

저장버튼을 누르면 **[글제목]**이라는 state에 제목 하나를 추가하면 기능개발 끝입니다.

(그리고 그 제목은 input에 입력했던 값이고요)

개발시 "글 목록 HTML을 하나 더 어떻게 생성해주지?" 같은 HTML을 어떻게 생성할지는 고민할 필요가 없어요.

글제목 갯수에 맞게 글리스트를 생성해주세요~ 라고 map 반복문을 예전에 돌렸었으니까요.

글제목이라는 자료에 들어갈 내용만 수정해주시면 map이 알아서 새로운 HTML을 생성해줍니다.

리액트에선 state를 변경하면 그것과 관련된 HTML도 변경(재렌더링)된다는걸 명심합시다.

이제 20분 잴테니 알아서 해보십시오.

**이것은 답이지만 펼치는 순간 나와의 싸움에서 진 것입니다**

(패배 ㅅㄱ)

저는 이런 스텝으로 개발을 진행해보았습니다.

1. 일단 사용자가 input에 뭔가 입력하면 입력한 값을 변수나 state로 저장부터 할 것입니다.

(중요한 데이터는 일단 저장해두는게 좋으니까요)

2. 버튼을 누르면 그 state를 **[글제목이라는 state]** 어레이의 뒤에 하나 뿅 추가할 것입니다.

이게 끝입니다. 그러면 알아서 글이 4개 보일 것입니다.

왜 4개가 알아서 보이냐고요? state 변경하면 HTML도 알아서 재렌더링 되니까요.

그러니 div를 하나 더 만들어주세요~ 이런 코드는 필요가 없습니다. state만 변경하면 됩니다.

**1. 사용자가 input에 뭔가 입력하면 입력한 값을 변수나 state로 저장하려면**

기억이 안난다면 바로 저번 시간 input 다루기 강의를 참고하시면 되겠군요.

```jsx
function App (){
  let [글제목, 글제목변경] = useState(['남자코트추천', '강남우동맛집', '파이썬독학']);
  **let [입력값, 입력값변경] = useState('');**
  return (
    <div>
      HTML 잔뜩 있는 곳
      <div className="publish">
        <input **onChange={ (e)=>{ 입력값변경(e.target.value) } }** />
        <button>저장</button>
      </div>
    </div>
  )
}
```

- 입력값이라는 state를 하나 만들어뒀고,
- input에 뭔가 입력할 때마다 state로 저장되도록 기능개발을 했습니다.

그럼 이제 input에 값을 입력할 때마다 입력값이라는 state에 실시간으로 저장됩니다.

**2. 버튼을 누르면 입력값 state를 [글제목] state에 추가할 것입니다.**

이건 버튼에 onClick 달아서 기능개발하면 되겠죠?

```jsx
function App (){
  let [글제목, 글제목변경] = useState(['남자코트추천', '강남우동맛집', '파이썬독학']);
  let [입력값, 입력값변경] = useState('');
  return (
    <div>
      HTML 잔뜩 있는 곳
      <div className="publish">
        <input onChange={ (e)=>{ 입력값변경(e.target.value) } } />
        <button onClick={ ()=>{ 글제목변경(???) }}>저장</button>
      </div>
    </div>
  )
}
```

글제목변경() 함수를 써서 변경해야되는데 () 여기 소괄호 안엔 뭘 집어넣어야하죠?

**`글제목변경( [ 입력값이라는state, '남자코트추천', '강남우동맛집', '파이썬독학' ] )`**

이걸 넣어주셔야합니다. 하드코딩해서 넣기보다는 개발자스럽게 넣어봅시다.

```jsx
function App (){
  let [글제목, 글제목변경] = useState(['남자코트추천', '강남우동맛집', '파이썬독학']);
  let [입력값, 입력값변경] = useState('');
  return (
    <div>
      HTML 잔뜩 있는 곳
      <div className="publish">
        <input onChange={ (e)=>{ 입력값변경(e.target.value) } } />
        <button onClick={ ()=>{

          let arrayCopy = [...글제목];
          **arrayCopy.unshift(입력값); // 수정**
          글제목변경( arrayCopy )

         }}>저장</button>
      </div>
    </div>
  )
}
```

3줄의 코드를 추가했습니다.

**글제목이라는 state를 수정해서 글제목변경() 여기다가 집어넣어야하는데**,

수정하는 방법은 `unshift()`라는 array 함수를 쓰시면 됩니다.

`unshift()`는 **array의 맨 앞에 자료를 하나 추가하고 싶을 때** 씁니다.

근데 **글제목이라는 state는 직접 수정하지 말랬죠!?**

그래서 1. 글제목을 복사해서 **arrayCopy라는 카피본을 하나 만들고,**

2. 그걸 **수정**하고

3. 그걸 **새로운 글제목state가 되도록 입력**한 것입니다.

기억이 안난다면 state변경강의를 참고합니다.

→input에 글을 막쓰고 `저장` 누르면 글하나가 추가됨

![스크린샷 2022-03-19 오후 5.46.00.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dc410e06-3d0f-45ea-8c9e-39492c80db95/스크린샷_2022-03-19_오후_5.46.00.png)

## ****class를 이용한 옛날 옛적 React 문법****

여러분은 현재 최신문법으로 공부하고 계시지만

실무하다보면 **옛날문법**으로 작성된 리액트파일 볼 때가 있습니다.

그런 것들도 이해는 할 수 있어야겠죠?

컴포넌트 만들기, 함수만들기, state 만들고 변경하기는 예전엔 어떻게 했었는지 알아봅시다.

**사이트 내에 프로필 UI를 만들고 싶은데 component로 만들어보겠습니다**

옛날 문법으로 `component`는 이렇게 만들었습니다.

```jsx
function App(){
  return (
    <div>
      HTML 잔뜩있는 곳
      <Profile />
    </div>
  )
}

class Profile extends React.Component {
  constructor(){
    super();
  }

  render(){
    return (
      <div>프로필영역입니다</div>
    )
  }
}
```

이렇게 class부터 시작해서 길게 최소 6줄을 써야합니다.

1. **class**를 하나 만들고 이름짓습니다.

2. 그리고 `React.Component`라는 이상한 것을 extends한다고 써줍니다.

3. constructor(){} 함수를 언급해줍니다.

3. `render(){}` 함수 안에 원하는 HTML을 적습니다.

그럼 이제 <Profile />을 원하는 곳에 첨부하면 Component 만들기 끝입니다.

**약간의 문법용어 정리**

문법시간이 아니라 짧게 설명하겠습니다.

class는 데이터/함수를 보관하는 덩어리입니다.

`extends`는 덩어리를 만들 때 오른쪽에 있는 놈 성질을 물려받아서 덩어리를 만들겠다는 소리입니다.

**React.Component는 컴포넌트 성질을 갖고있는 덩어리**입니다.

이것을 extends 해서 class를 만들면 우리가 계속 사용해왔던 컴포넌트를 만들어낼 수 있습니다.

(리액트 라이브러리 사용법일 뿐입니다)

왜 class라는 문법이 존재하냐면

class는 여러개의 데이터나 함수를 한 곳에 보관하고 싶을 때 쓰는 문법입니다.

class 어쩌구 {} 하시고 중괄호 안에 담고 싶은 데이터나 함수 담으시면 됩니다.

class를 만들어두시면 **class가 가지고 있는 데이터를 그대로 복사해서 사용할 수 있는 object를 쉽게 만들 수 있습니다.**

혹은 **class가 가지고 있는 데이터를 그대로 복사해서 사용할 수 있는 class도 쉽게 만들 수도 있고요.** (extends 문법을 씁니다)

암튼 가끔 그러고 싶을 때가 있어서 쓰는 문법인데 리액트는 왜 저러냐면

1. 리액트 만든 사람들이 컴포넌트와 관련된 데이터/함수들을 보관하기 위해서 React.Component라는 class를 만들어두었고

2. 그걸 extends 를 이용해서 복사하면 여러분만의 컴포넌트를 만들 수 있는거고

3. 그리고 그렇게 하시면 여러분 컴포넌트는 리액트관련 데이터/함수를 자유롭게 쓸 수 있는겁니다.

여러분이 리액트 라이브러리 비슷한걸 하나 더 만들게 아니라면 몰라도 먹고사는데엔 지장이 없습니다.

**예전 문법으로 state 만들고 쓰는 법**

예전엔 **constructor(){} 안에 모든 state를 보관**했었습니다.

```jsx
class Profile extends React.Component {
  constructor(){
    super();
    this.state = { name : 'Kim', age : 30 }
  }

  render(){
    return (
      <div>
        <h3> 저는 { **this.state.name** } 입니다 </h3>
      </div>
    )
  }
}
```

1. state저장할 땐 constructor() 안에 this.state 라는 변수에 전부 보관하셔야합니다.

2. 그리고 꺼내쓸 때는 this.state.state명 이렇게 쓰시면 됩니다.

**약간의 문법용어 정리2**

**state값을 바꾸는 법**

버튼을 누를 때 이름을 'Park'으로 **변경**하는 기능을 만들어봅시다.

onClick이라든지 이런건 똑같습니다. 근데 state를 변경하실 때는 특정함수를 쓰셔야합니다.

```jsx
class Profile extends React.Component {
  constructor(){
    super();
    this.state = { name : 'Kim', age : 30 }
  }

  render(){
    return (
      <div>
        <h3> 저는 { **this.state.name** } 입니다 </h3>
        <button onClick={ ()=>{ **this.setState( {name : 'Park'} ) }** }> 버튼 </button>
      </div>
    )
  }
}
```

1. 버튼만들고 onClick 이런거 넣는건 똑같습니다.

2. state를 변경하실 땐 `this.setState()` 라는 내장함수를 꼭 쓰셔야합니다.

그리고 소괄호()안에는 바꾸고 싶은 state 이름과 값만 적어주시면 됩니다.

주의) 신문법으로 만든 state 변경함수들은 아예 state를 바꿔치기해주는 역할인데

예전문법 setState()는 딱 필요한 부분만 수정해주고 나머지는 건들지 않습니다.

그래서 우리가 했던 것 처럼 1.state 복사본 만들고 2.수정하고 3.복사본을 집어넣고 그런 짓거리가 필요없습니다.

**커스텀 함수 만드는 법**

최신문법에서 함수는 그냥 아무데나 만들었었는데

예전 문법은 위치가 정해져있습니다.

예를 들어서.. 버튼안에  `setState()` 복잡하게 하던걸 함수로 빼보도록 하겠습니다.

```jsx
class Profile extends React.Component {
  constructor(){
    super();
    this.state = { name : 'Kim', age : 30 }
  }

  changeName(){
    this.setState( {name : 'Park'} )
  }

  render(){
    return (
      <div>
        <h3> 저는 { this.state.name } 입니다 </h3>
        <button onClick={ this.changeName }> 버튼 </button>
      </div>
    )
  }
}
```

1. 버튼안에 있는 코드가 너무 길어서 함수로 빼고 싶어서 함수를 만들었습니다.

2. 모든 커스텀 함수는 저기 저 `changeName` 자리에 만들어주시면 됩니다. 그리고 필요한 코드를 담습니다.

3. 그리고 `changeName` 이라는 함수 이름을 필요한 자리에 넣어줬습니다. 근데 this 까먹지맙시다.

맞는 방법인데 에러가납니다.

왜냐면 `this.setState()`  라는 코드의 this가 이상해져서 그렇습니다.

changeName() 만드는 것도 function 문법의 축약버전인데

자바스크립트에선 **function을 쓴다면 안에있는 this값은 항상 새롭게 재정의**됩니다.

그래서 changeName 안에 있던 this도 재정의가 되어서 의도와는 다른 기능을 하고 있는 것입니다.

그래서 this가 재정의되지않게

그래서 1. 함수를 쓸 때 this.changeName.bind(this) 이렇게 사용하시거나

아니면 2. 함수를 아예 arrow function으로 바꿔주시면 됩니다.

```jsx
class Profile extends React.Component {
  constructor(){
    super();
    this.state = { name : 'Kim', age : 30 }
  }

  changeName = () => {
    this.setState( {name : 'Park'} )
  }

  render(){
    return (
      <div>
        <h3> 저는 { this.state.name } 입니다 </h3>
        <button onClick={ this.changeName }> 버튼 </button>
      </div>
    )
  }
}
```

▲ 이런 식으로 하면 에러가 나지 않습니다.

**arrow function 과 this 키워드의 관계**

자바스크립트에선 () => {} (arrow function) 과 그냥 function(){} 은 거의 같은 의미입니다.

하지만 한가지 차이점이 있는데

arrow function을 쓰시면 안에 있는 this값을 재정의해주지않습니다. 바깥에 있던 this의 값을 그대로 끌고와서 사용합니다.

하지만 function(){}을 쓰시면 this값이 새롭게 변화합니다.

같은 함수문법이지만 이런 차이가 있습니다.

그래서 arrow function은 내부의 this키워드 값을 변화시키지 않고 싶을 때 사용합니다.

문법시간이 아니라 this에 대한 자세한 문법은 스킵했는데

ES6강의 무료파트 들어보시면 this 라는 키워드가 왜 저렇게 맨날 뜻이 달라지는지 알 수 있습니다.

**오늘의 교훈 :** 신문법을 씁시다.

리액트 공식 문서도 컴포넌트를 만들 땐 function 문법으로 사용하라고 권장합니다.

어려운 class문법이나 this 키워드를 사용하지않아도 되니

세부 문법을 체크할 필요가 없이 매우 빠르고 쉽게 리액트 웹개발이 가능합니다.

function으로 만드나 class로 만드나 기능적 차이는 거의 없습니다.

useState같은 Hook을 자주 사용할 거라면 function이 훨씬 더 유용한 기능이 많습니다.

다만 class 컴포넌트는 Lifecycle Hook을 조금 더 자세히 쓸 수 있습니다.

## ****쇼핑몰 프로젝트 : 프로젝트 생성 & Bootstrap 설치****

이번 시간부터는 또 다른 프로젝트를 하나 만들어보겠습니다.

있어보이는 쇼핑몰 프로젝트인데 일단 프로젝트 생성부터 새롭게 시작해봅시다.

그리고 CSS 덜짜기 위해 React Bootstrap 이라는 라이브러리를 설치해서 이용할 예정입니다.

**0. 프로젝트 설치가 오래걸린다면 이번엔 `yarn` 이라는걸 이용해봅시다**

구글에 yarn 1.22 이거 검색하시면 설치사이트가 하나 나옵니다.

거기서 1.22 이상의 버전의 installer를 다운받아 **설치 + 컴퓨터 재시작**까지 하시면 됩니다.

맥이든 윈도우든 설치과정은 똑같습니다.

(주의) 2.X 버전은 아직 불안정해서 1.X 버전으로 설치하는걸 추천드립니다

yarn이 뭐하는 애냐면 npm이나 npx를 대체해서 이용할 수 있게 도와주는 친구입니다.

npm보다 훨씬 빠른 라이브러리 설치속도와 안정성을 자랑합니다.

일단 설치해놓으면 **`npx create-react-app 어쩌구`** 하실 때 자동으로 yarn이 구동되어 빨라집니다.

누군가가 **npm install 어쩌구** 하라고 하면 그거 대신 **yarn add 어쩌구** 라고 사용하시면 더 빠르게 설치할 수 있으며

**npm run start** 로 미리보기 띄울 때도 **yarn start** 이걸로 대체할 수 있습니다.

**에러)** 맥유저의 경우 "권한이 없어요" 에러가 뜬다면 sudo라는 단어를 앞에 붙여서 해보시길 바랍니다.

기타 에러는 1강 혹은 구글검색을 참고합니다.

**본격적으로 새로운 프로젝트 생성을 해보도록 합시다.**

![https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%981-1.png](https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%981-1.png)

**1. 작업폴더를 VScode 에디터로 오픈한 뒤에 하단 터미널을 열어줍니다.**

▲ 그럼 위처럼 작업폴더명이 터미널에 잘 뜨죠? 그럼 이제 리액트 프로젝트 설치 명령어를 입력해봅시다.

**2. 터미널에 입력합니다.**

```
npx create-react-app shop
```

그럼 이제 shop이라는 이름의 프로젝트 (하위폴더)가 생성됩니다. 1분 기다리면 됩니다.

**3. shop이라는 폴더를 VScode 에디터로 오픈한 뒤에 코딩을 시작합니다.**

설치 다 됐으면 폴더오픈하고 코딩해야죠? 유튜브보던건 이제 끄도록 합시다

**4. App.js에 필요없는 HTML들은 지우고 div 하나만 남겨두고 시작합시다.**

**5. 그리고 터미널에서 yarn start를 눌러서 미리보기를 띄워봅시다.**

**CSS 쌩코딩하기 귀찮으니 Bootstrap 라이브러리를 설치해서 이용하기**

설치하시면 버튼디자인 메뉴디자인 직접 하실 필요없이

Bootstrap 홈페이지에 있는 예제코드만 복붙하시면 메뉴, 버튼, 3분할 레이아웃 등 원하는 UI들을 쉽게 생성가능합니다.

Bootstrap은 원조라이브러리고

이걸 리액트에 맞게 변형한 React Bootstrap을 설치합시다.

react bootstrap이라고 구글 검색하면 맨 처음에 나오는 사이트로 들어갑시다.

그리고 get started 혹은 introduction 메뉴로 들어갑니다.

![https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%982.png](https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%982.png)

▲ 사이트에서 시키는대로 인스톨해주도록 합시다.

터미널켜고

```
npm install react-bootstrap bootstrap
```

입력해주시면 됩니다. **명령어 맨날 바뀌니까 사이트 들어가보셔야합니다.**

yarn 으로 빠르게 설치하려면

```
yarn add react-bootstrap bootstrap
```

입력해주시면 됩니다.

때에 따라 특정 스타일을 사용할 때 Bootstrap CSS 파일을 요구하는 경우가 있습니다.

그럼 그냥 사이트에 있는 CSS 파일을 index.html 파일의 <head> 태그 안에 복붙해주시면 됩니다.

![https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%983.png](https://codingapple.com/wp-content/uploads/2020/05/%EC%BA%A1%EC%B2%983.png)

▲ 사이트 내에 이걸 찾아 복붙하시면 됩니다. 아까랑 같은 페이지의 CSS라는 항목에 있을듯여

**Bootstrap 설치가 잘 되었는지 테스트해보려면**

**1. getbootstrap.com 들어가신 후에 Documentation 탭으로 들어갑니다.**

**2. 원하는 레이아웃을 검색합니다. button을 한번 검색해봅시다.**

**3. 그 중에 원하는 버튼 HTML을 내 App.js에 복붙합니다. 전 강의에서 파란버튼을 복붙했습니다.**

**4. 미리보기에서 버튼이 예쁘게 파란색으로 뜨면 설치 성공입니다.**

이제 버튼 말고도 필요한 레이아웃을 바로바로 복붙하면 개발이 편해지겠죠?

## ****평화로운 쇼핑몰 레이아웃 디자인시간****

★ 리액트 17버전 이상에선 public 폴더안에 있는 이미지를 CSS파일에서 **/image.jpg** 이렇게 첨부할 수 없습니다.

이럴 경우 이미지를 src 폴더로 옮겨서 **./image.jpg** 이렇게 첨부하십시오.

**강의에서 사용하는 이미지 URL 모음**

https://codingapple1.github.io/shop/shoes1.jpg

https://codingapple1.github.io/shop/shoes2.jpg

https://codingapple1.github.io/shop/shoes3.jpg

오늘은 React Bootstrap을 이용한 레이아웃 디자인 시간입니다.

Bootstrap은 CSS 라이브러리인데, 설치하면 미리 이쁘게 디자인 된 버튼, 메뉴 들을 갖다쓸 수 있습니다.

그니까 이제 복사 붙여넣기만 하면 이쁜 웹 UI 개발 끝이라는 겁니다.

오늘은 이걸 이용해서 쇼핑몰 메인페이지에 평화롭게 디자인만 좀 넣고 마무리해보도록 합시다.

(그리고 React Bootstrap에서 코드 복붙하실 땐 항상 상단에 컴포넌트 명 import 해오는거 잊지맙시다.)

**상단메뉴 (Navbar) 만들기**

react bootstrap 공식사이트로 들어가신 뒤

Component 메뉴로 들어가신 다음 navbar라고 검색하면 간지나는 navbar 예제들이 많이 보입니다.

![https://codingapple.com/wp-content/uploads/2020/05/navbar.png](https://codingapple.com/wp-content/uploads/2020/05/navbar.png)

▲ 마음에 드는 navbar의 HTML 예제 코드를 여러분 원하는 곳에 붙여넣기만 해주시면 navbar 개발 끝입니다.

```jsx
function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
    </div>
  )
}
```

▲ 그래서 전 App.js 이곳에 붙여넣어봤습니다.

하지만 여기까지 하면 에러가 나고 작동하지않습니다.

왜냐면 붙여넣으실 때는 붙여넣은 컴포넌트를 상단에 import를 먼저 해오셔야합니다.

```jsx
import { Navbar } from 'react-bootstrap';

function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
    </div>
  )
}
```

▲ 이렇게 해야된다고합니다.

아무튼 붙여넣었을 때 <Navbar> 말고도 <Nav> <NavDropdown> 이런 여러가지 컴포넌트들도 같이 딸려왔으니

이런 것도 함께 import 해오시길 바랍니다.

```jsx
import { Navbar,Nav,NavDropdown,Form,Button,FormControl } from 'react-bootstrap';

function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
    </div>
  )
}
```

▲ 이렇게하면 이제 navbar UI 붙여넣기 성공입니다.

이제 navbar 붙여넣은 HTML중에 필요없어보이는건 제거하고 수정할건 수정하시면 됩니다.

className=""으로 커스텀 스타일도 넣으실 수 있고요.

그건 알아서 할 수 있으니 스킵하도록 합시다.

스타일링을 알아서 못한다면 CSS 공부가 우선입니다.

**대문 Jumbotron 만들기**

큰 그림위에 글씨 + 버튼있는 그런 UI도 쌩코딩할 필요는 없습니다.

Jumbotron이라고 미리 마련이 되어있어서 그거 붙여넣으시면 됩니다.

검색 ㄱㄱ 후 붙여넣으십시오.

(bootstrap 5, react-bootstrap 2버전 이상에선 Jumbotron이라는 항목이 없습니다 그냥 큰 div박스랑 배경 알아서 css 짜서 넣으셈)

```jsx
import { Navbar,Nav,NavDropdown,Form,Button,FormControl, Jumbotron } from 'react-bootstrap';

function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)
    </div>
  )
}
```

▲ Navbar 밑에 붙여넣기해야 이쁘겠죠? 그리고 <Jumbotron> 이렇게 대문자들이 보이면

그건 react-bootstrap 컴포넌트들이기 때문에 전부 위에서 import 잘 해오시면 됩니다.

그리고 글 수정하고 사진넣고 해보시면 됩니다.

배경사진을 넣으시려면 `<Jumbotron className="background">` 이런 식으로 클래스 하나 넣어주시고

CSS 파일로 가서 .background{} 안에 스타일 작성하면 되겠죠?

```css
(App.css 파일)

.background {
  background-image : url(./background.jpg);
  background-position : center;
}
```

이런 식으로 CSS를 작성하면 배경이 생깁니다.

근데 이미지 경로를 작성하실 때 src폴더 안에 있는 이미지들을 사용할 땐 언제나 **./ 이게 현재경로**입니다.

(강의에서 쓴 이미지파일은 하단 첨부파일 참조)

(참고)

src 폴더에 있는 파일들은 리액트 앱을 발행했을 때 저절로 **압축이 되고 파일명이 변경되는데**

public 폴더에 있는 파일은 리액트 앱을 발행했을 때 사이트 루트경로에 그대로 남아있습니다.

그래서 / 이렇게 경로를 입력해도 잘 먹습니다.

그래서 public 폴더에 있는 이미지들은 `<img src="/image.jpg" />` 이렇게 쓰셔도 첨부가능합니다.

★ 리액트 17버전 이상에선 public 폴더안에 있는 이미지를 CSS파일에서는 /image.jpg 이렇게 첨부할 수 없습니다. CSS파일에 작성할 이미지들은 src폴더 쓰셈

**상품 레이아웃 만들기**

상품이미지를 가로로 3개 진열하고 싶습니다. 모바일사이즈에선 세로 1열로요.

이것도 float flex 이런거 생각할 필요없이 Bootstrap 문법을 사용하면 됩니다.

```jsx
import { Navbar,Nav,NavDropdown,Form,Button,FormControl } from 'react-bootstrap';

function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          <div className="col-md-4">안녕</div>
          <div className="col-md-4">안녕</div>
          <div className="col-md-4">안녕</div>
        </div>
      </div>
    </div>
  )
}
```

▲ 그대로 따라치시면 사이트가 정확히 가로로 3분할이 됩니다.

이제 col-md-4라는 div박스 안에다가 이미지넣고 글넣고 쇼핑몰의 상품처럼 디자인하시면 됩니다.

(참고) Bootstrap grid 문법인데, flexbox라는 CSS 속성을 사용합니다. 그래서 IE+11 환경에서만 동작할 수 있음

(참고2) 원래 이것도 react-bootstrap 사이트에서 layout이라고 찾아서 복붙하셔야합니다.

```jsx
import { Navbar,Nav,NavDropdown,Form,Button,FormControl } from 'react-bootstrap';

function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          <div className="col-md-4">
            <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
            <h4>상품명</h4>
            <p>상품정보</p>
          </div>
          <div className="col-md-4">
            <img src="https://codingapple1.github.io/shop/shoes2.jpg" width="100%" />
            <h4>상품명</h4>
            <p>상품정보</p>
          </div>
          <div className="col-md-4">
            <img src="https://codingapple1.github.io/shop/shoes3.jpg" width="100%" />
            <h4>상품명</h4>
            <p>상품정보</p>
          </div>
        </div>
      </div>
    </div>
  )
}
```

▲ 상품처럼 이미지, 글을 넣어봤습니다.

이미지 경로는 미리 호스팅해둔 이미지니까 그냥 똑같이 쓰셔도 무방합니다.

10분만에 메인페이지가 완성되었습니다 짝짝짝

## ****코드가 넘나 길어진다면 import / export 사용해보기****

**오늘의 숙제 (영상 12:30) :**

1. 오늘 만들었던 상품리스트를 이번엔 <컴포넌트>로 만들어서 첨부해보세요

2. <컴포넌트>에 실제 상품명이 뜨도록 **`{데이터바인딩}`** 완료해보십시오. <컴포넌트>3개가 필요하겠군요.

3. 컴포넌트 3개를 map 반복문을 돌려봅시다

실제 쇼핑몰 데이터를 여기다가 박아넣고 싶은데 쇼핑몰 상품 데이터가 좀 길어서 문제입니다.

변수나 함수나 자료형을 다른 파일로 저장해둔 뒤에 불러오는 방법을 알아봅시다.

import / export 문법인데 한번 배워두시면 이제 모든걸 다 외부파일로 모듈화하실 수 있습니다.

**강의에서 사용하는 상품 데이터 3개**

```jsx
[
  {
    id : 0,
    title : "White and Black",
    content : "Born in France",
    price : 120000
  },

  {
    id : 1,
    title : "Red Knit",
    content : "Born in Seoul",
    price : 110000
  },

  {
    id : 2,
    title : "Grey Yordan",
    content : "Born in the States",
    price : 130000
  }
]
```

하나하나의 상품 정보를 object {} 자료형에 담았으며 이거 3개를 하나의 array에다가 담았을 뿐입니다.

실제 서버에서 보내준 쇼핑데이터라고 생각하고 이걸 HTML에 박아넣어보도록 합시다.

**하지만 너무 길어서 이걸 `data.js` 같은 파일을 만들어서 안에 담은 뒤에 App.js에서 data.js에 있던걸 불러와**보도록 합시다.

그러려면 일단 `import / export` 문법부터 알아야합니다.

data.js ---> App.js 이렇게 변수, 혹은 데이터를 보내려면

1. 일단 data.js에서 원하는 데이터를 export 하시고

2. App.js에서는 data.js를 import 하시면 됩니다.

**`export default` 문법**

```jsx
(data.js 파일)

var 중요데이터 = 'Kim';
export default 중요데이터;

```

src 폴더에 App.js와 나란히 data.js를 만들었습니다.

이 파일에서 중요한 변수를 export하고 싶을 땐 export default라는 문법을 쓰시고 우측에 배출을 원하는 변수를 담아줄 수 있습니다.

- 변수명, 함수명, 자료형 전부 배출가능합니다.
- 파일마다 `export default` 라는 키워드는 하나만 사용가능합니다.

끝입니다.

**import 문법**

```jsx
(App.js 파일)

import 중요데이터 from './data.js';
```

App.js에서 data.js 에서 배출한 변수를 쓰고싶다면

`import 변수명 from '경로'`

라고 작성해서 다른 파일에서 배출한 변수를 갖다쓸 수 있습니다.

위의 예제코드에서 **중요데이터**라는 변수를 출력해보면 'Kim'이 나오죠? 성공!

- 변수명이라는 부분은 자유롭게 작명하실 수 있습니다.
- 경로쓰실 때 ./ 라는 것은 현재경로입니다.

**`export {}` 문법**

여러개의 변수들을 내보내고싶으면 export default 말고 이런 문법을 씁니다.

```jsx
(data.js 파일)

var name1 = 'Kim';
var name2 = 'Park';
**export { name1, name2 }**
```

그럼 원하는 변수명, 함수명을 내보낼 수 있습니다.

아까와는 다르게 꼭 변수나 함수명이 있어야합니다.

**`import {}` 문법**

export {} 이걸로 내보낸 변수들을 갖다쓰고 싶으면 import {} 문법을 씁니다.

```jsx
(App.js 파일)

**import { name1, name2 } from './data.js';**
```

이렇게 export 했던 변수명을 원하는 것만 골라서 써주시면 됩니다.

- 이 경우는 작명이 불가능하고 export 했던 변수명 그대로 쓰셔야합니다.

그러니까 **export default + import**

아니면 **export {} + import**

둘 중 마음에드는걸로 쓰시면 되겠습니다.

**쇼핑몰 데이터를 state로 저장하고 싶은데 너무 길다 다른파일로 빼자**

위에 적혀있던 긴 array 데이터를 App.js의 state로 만들고 싶습니다.

근데 너무 길어서 data.js라는 파일에 보관한 뒤에 App.js로 가져오고 싶습니다. 어떻게 하면 될까요?

(state 이름은 `shoes`로 합시다)

(필요한건 다 배웠으니 혼자 해보시면 됩니다)

**해보신 후 저랑 비슷하게 했는지 펼쳐봅니다**

일단 data.js 에 데이터를 다 저장하고 export default 로 내보내줍니다.

```jsx
(data.js 파일)

export default [
  {
    id : 0,
    title : "White and Black",
    content : "Born in France",
    price : 120000
  },

  {
    id : 1,
    title : "Red Knit",
    content : "Born in Seoul",
    price : 110000
  },

  {
    id : 2,
    title : "Grey Yordan",
    content : "Born in the States",
    price : 130000
  }
]
```

변수에 저장했다가 export default 변수명 하셔도 되는데

변수만들기 귀찮으면 그냥 자료를 그대로 export default 뒤에 집어넣으셔도 됩니다.

그럼 이제 App.js에서 import 어쩌구를 작성해서 이 데이터를 가져와봅시다.

```jsx
(App.js 파일)
import React, {useState} from 'react';
import Data from './data.js';

function App(){

  let [shoes, shoes변경] = useState(Data);

  return (
    <div> HTML 많은 곳 </div>
  )
}
```

이렇게 import 해왔습니다. export default로 내보낸 데이터는 자유롭게 작명이 가능하니

데이터라고 이름짓고 그걸로 state를 만들어버렸지뭐에얌

**상품데이터를 HTML에 데이터바인딩하기**

여러분이 방금 import 해온건 상품 3개의 데이터입니다.

각각 상품의 제목, 설명, 가격 이런 것들이 들어가있습니다. 이걸 알맞은 자리에 데이터바인딩 해보도록 합시다.

```jsx
(App.js 파일)

function App(){
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          <div className="col-md-4">
            <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
            <h4>{ shoes[0].title }</h4>
            <p>{ shoes[0].content } & { shoes[0].price }</p>
          </div>
          <div className="col-md-4">
            <img src="https://codingapple1.github.io/shop/shoes2.jpg" width="100%" />
            <h4>상품명</h4>
            <p>상품정보</p>
          </div>
          <div className="col-md-4">
            <img src="https://codingapple1.github.io/shop/shoes3.jpg" width="100%" />
            <h4>상품명</h4>
            <p>상품정보</p>
          </div>
        </div>
      </div>
    </div>
  )
}
```

▲ 첫째 상품의 제목, 설명부분에

shoes라는 state에 보관하던 실제 데이터를 박아넣어봤습니다.

이런 식으로 쭉~ 하면 실제 데이터를 사용자에게 보여줄 수 있겠군요.

그리고 집가서 상단에 있는 오늘의 숙제 마무리해보시길 바랍니다.

## ****숙제 해설 : 상품목록 Component화 + 반복문****

저번시간 내드린 숙제를 해결해보도록 합시다.

그냥 상품리스트들을 컴포넌트로 만들고, 데이터바인딩하고

필요하면 반복문을 돌려보는 숙제였습니다. 다 배웠던 것들이니 스무스하게 시작해봅시다.

**일단 터미널창에 뜨는 warning부터 해결합시다.**

노란색 warning은 그냥 잔소리입니다.

**"이미지에 alt="" 넣어주세요"**

**"변수 선언만하고 안쓰셨어요"**

이런 잔소리가 귀찮다면

페이지 맨 위에 **/*eslint-disable*/** 이라는 코드를 추가합니다.

이제 잔소리 안뜹니다.

**숙제1-1. 상품레이아웃 컴포넌트화하기**

```jsx
(App.js 파일)

function App(){

  let [shoes, shoes변경] = useState(Data);
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          <Card />
          <Card />
          <Card />
        </div>
      </div>
    </div>
  )
}

**function Card(){
  return (
    <div className="col-md-4">
      <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
      <h4>{ shoes[0].title }</h4>
      <p>{ shoes[0].content } & { shoes[0].price }</p>
    </div>
  )
}**
```

▲ col-md-4 라는 div박스들을 컴포넌트로 만들어서 첨부했습니다.

컴포넌트 만드는건 많이 해본 것이니 자세한 설명은 필요없겠죠?

근데 에러가납니다. `function Card(){}` 여기 **안에 shoes라는 변수가 없다고 에러**가 뜨네요.

당연합니다. **현재 shoes 라는 state 변수는 App 컴포넌트에 있지 Card 컴포넌트에는 없으니까**요.

**App이라는 컴포넌트에 있는 state를 Card에서 쓰고싶으면 `props`로 전송해주어야합니다.**

**shoes라는 state를 props로 전송하려면**

props 전송은 2단계를 밟아주면 된다고 했습니다.

```jsx
function App(){

  let [shoes, shoes변경] = useState(Data);
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          <Card shoes={shoes} />
          <Card shoes={shoes} />
          <Card shoes={shoes} />
        </div>
      </div>
    </div>
  )
}

function Card(**props**){
  return (
    <div className="col-md-4">
      <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
      <h4>{ props.shoes[0].title }</h4>
      <p>{ props.shoes[0].content } & { props.shoes[0].price }</p>
    </div>
  )
}
```

▲ 이렇게 쓰면 되겠군요

1. <Card>를 첨부할 때 `shoes={shoes}`로 전송하는 문법을 썼고

2. Card 컴포넌트 안에 shoes를 갖다쓸 땐 `props.shoes` 라고 사용했습니다.

완성입니다. 그럼 일단 카드들이 정상적으로 출력이 됩니다.

**Q. 근데 왜 다들 똑같은 상품명이 뜨는거죠?**

A. Card 컴포넌트에서 데이터바인딩할 때 똑같은 데이터만 데이터바인딩 해놨으니까요.

이 문제를 해결해봅시다. 각각 **<Card>마다 다른데이터를 데이터바인딩시키면 되겠죠뭐**

**숙제1-2. 각각의 Card 컴포넌트마다 다른 데이터 전송해주기**

그러면 각각 카드마다 다른 상품명을 보여줄 수 있으니까요.

그럼 props 전송시 이런 식으로 전송해주면 되지않을까요?

```jsx
function App(){

  let [shoes, shoes변경] = useState(Data);
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          <Card shoes={shoes[0]} />
          <Card shoes={shoes[1]} />
          <Card shoes={shoes[2]} />
        </div>
      </div>
    </div>
  )
}
```

▲ 각각의 Card마다 shoes[0], shoes[1] ... 이런 식으로 전송해주면 되겠구만요.

그니까 shoes라는 **`[ {}, {}, {} ]`** 이렇게 생긴 데이터를 다 전송하는게 아니라

shoes 안에 있던 하나의 {} 오브젝트만 각각 전송하자는 겁니다.

각각 {} 오브젝트에는 각각 다른 상품명이 들어가있고요.

그럼 이제 Card라는 컴포넌트에 작성해놨던 데이터바인딩 방법도 바꾸면 됩니다.

```jsx
function Card(props){
  return (
    <div className="col-md-4">
      <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
      <h4>{ props.shoes.title }</h4>
      <p>{ props.shoes.content } & { props.shoes.price }</p>
    </div>
  )
}
```

▲ 아까 위에서 shoes[0] 이라는 데이터를 **shoes라는 이름으로 props로 전송**했기 때문에

**`props.shoes[0].title`** 이게 아니라

**`props.shoes.title`** 이렇게 써주시면 제목 등이 정상적으로 출력됩니다.

**별거아니지만 숙제1의 교훈은:**

- 같은 컴포넌트라고 항상 같은 내용만 보여줄 수 있는게 아닙니다.
- props 등을 이용해 각각 다른 내용을 전송해주면 됩니다.
- 그럼 같은 컴포넌트라고 해도 각각 다른 내용이 출력되는 컴포넌트를 만드실 수 있습니다.

**숙제2. Card 컴포넌트 반복문 돌리기**

굳이 안해도될 것 같지만

진정한 개발자라면 반복되는 코드를 봤을 때 반복문 돌리고 싶어 안달 나야합니다.

```jsx
function App(){

  let [shoes, shoes변경] = useState(Data);
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          {
            **shoes.map((a,i)=>{ 
             return <Card shoes={shoes[i]} />**
            });
          }
        </div>
      </div>
    </div>
  )
}
```

▲ 그래서 <Card> 3개를 map 반복문으로 돌려보았습니다.

(shoes라는 state 갯수만큼 돌려야하니까 shoes에 map을 붙였습니다)

`map 반복문`이 기억이 안나면 이전 강의를 참고하도록 합니다.

`map 반복문` 안엔 2개의 파라미터가 들어갈 수 있는데 (a, i 이렇게 써놓은거요)

왼쪽거는 shoes라는 array에 있던 하나하나의 데이터를 의미하고,

i는 반복문 돌면서 1씩 증가하는 정수입니다. 0,1,2 ... 이런 식으로 변하는 변수겠네요.

**상품 이미지들 데이터바인딩하기**

현재 모든 상품이미지들은 Card 컴포넌트 안에 **`<img src="~~~/shoes1.jpg">`** 이렇게 하드코딩되어있습니다.

근데 각각 컴포넌트마다 **shoes1.jpg / shoes2.jpg / shoes3.jpg** 라는 데이터로 데이터바인딩하고 싶은데 어떻게 하면 될까요?

힌트는.. 위에서 배웠던 교훈을 생각해보시면 됩니다.

컴포넌트마다 각각 다른 내용을 보여주고 싶으면 props로 다른 정보를 전송해주면 된다고했죠?

그럼 <img/> 경로에 "shoes1.jpg" 라고 하드코딩되어있던 걸 이렇게 바꾸면 되겠군요.

```jsx
<img src={ ~~~ shoes반복문돌때마다1,2,3으로변하는변수.jpg} />
```

이렇게요.

**Q. 그런 변수가 있나요?**

<Card> 근처에 있습니다. <Card> 반복문 돌릴 때 map 안에 i라는 변수가 있다고 했습니다. 0,1,2라고 변하는 변수였죠?

비슷하니까 이걸 활용하면 되겠군요.

```jsx
<img src={ 'https://codingapple1.github.io/shop/shoes' + i + '.jpg' } width="100%"/>
```

▲ 그리고 글자 중간에 변수를 넣고 싶으면 이런 식으로 쓰면 되고요.

근데 **i** 라는 변수는 App이라는 부모 컴포넌트가 가지고 있는 변수기 때문에

**하위 컴포넌트에서 사용하고싶으면 이것도 똑같이 `props`로 전송해주어야 갖다쓸 수 있습니다**.(부모가 가지고 있는 state, 변수는 props로 전송해야함)

전송해봅시다.

```jsx
function App(){

  **let [shoes, shoes변경] = useState(Data);**
  return (
    <div className="App">
      <Navbar></Navbar> (그 사이트에 있던 navbar 예제 어쩌구)
      <Jumbotron></Jumbotron> (그 사이트에 있던 jumbotron 예제 어쩌구)

      <div className="container">
        <div className="row">
          {
            **shoes.map((a,i)=>{
             return <Card shoes={shoes[i]} i={i} /> // i는 0,1,2,3, ...**
            });
          }
        </div>
      </div>
    </div>
  )
}

function Card(){
  return (
    <div className="col-md-4">
      <img src={ 'https://codingapple1.github.io/shop/shoes' + (props.i+1) + '.jpg' } width="100%"/>
      <h4>{ props.shoes.title }</h4>
      <p>{ props.shoes.content } & { props.shoes.price }</p>
    </div>
  )
}
```

▲ `props` 전송하시려면

1. `i={i}` 이렇게 전송해주시고 2. `props.i` 이렇게 갖다쓴다고 배워봤습니다. (src=”” 에다가 데이터 바인딩하려면 `src {}` 이렇게 하면 변수명 함수명 넣기 가능)

근데 i는 0,1,2가 된댔는데 우리가 필요한 숫자는 **1,2,3** 이잖아요

그래서 `(props.i + 1)` 이런 변수를 집어넣은 것입니다.

텍스트 중간에 변수를 넣고 싶으면 → `‘문자’ + 변수 + ‘문자’`

**현강에서 많이 들어본 질문**

**Q. 왜 이런 짓거리를 나에게 시키는 것이죠?**

A. 요즘 프론트엔드 개발자의 주된 역할은

1. 서버에서 데이터받아온 후 2. 그걸로 HTML을 예쁘게 만들어 보여주는 역할입니다.

그걸 리액트로 연습하고 있는 것이고요.

하지만 아직 서버에서 받아온 데이터가 없으니 data.js에 있는 데이터가지고 연습하고 있는 것일 뿐입니다.

**Q. <Card> 이거 굳이 반복문 안돌려도 되지않을까요?**

A. shoes라는 데이터가 항상 3개라면 굳이 반복문 안써도 됩니다.

근데 **`shoes` 라는 데이터가 3개가 아니라 매번 달라지고 그렇다면** 반복문을 돌리는게 매우 좋습니다.

반복문은 '데이터 갯수만큼' HTML을 보여줄 수 있으니까요.

지금 강의에서도 shoes라는 데이터 갯수만큼 반복문을 돌리고 있습니다.

**Q. 왜 터미널/콘솔창에 워닝이 뜨죠?**

A. 워닝은 항상 메세지를 읽어보면 바로 해결책이 나오는데

`map` 쓰셨다면 `key={}`이것도 꼭 사용해주셔야한다고 배웠었죠? 그래서 그럴겁니다.

{} 여기 안에는 반복문이 돌면서 0,1,2가 되는 변수를 적어주시면 된다고 했고요.

**그러니까 `<Card key={i}/>`** 이런 코드를 추가해주시면 되겠네요.

## ****React Router 1 : 셋팅과 기본 라우팅 (페이지 나누기)****

**(수정) 라이브러리 설치시 npm install react-router-dom@5.2.0 이걸로 설치합시다.**

여러가지 페이지를 만들고 싶다면 라우터를 이용합니다.

react-router-dom이라는 공식 라이브러리를 설치해서 이용하시면 됩니다.

오늘은 메인페이지와 상세페이지 이렇게 두개의 페이지만 만들어볼겁니다.

일단 설치와 셋팅부터 하도록 합시다.

**설치/셋팅부터 합시다**

터미널을 여시고

```
npm install react-router-dom@5.2.0
```

```
yarn add react-router-dom@5.2.0
```

둘 중 하나 입력해서 설치해주시면 됩니다. yarn 으로 시작하는건 당연히 저번에 yarn을 설치해야 사용할 수 있습니다.

그리고 index.js 파일에 방문합니다.

이 파일은 **App.js에 있는 <App> 컴포넌트를 index.html에 꽂아주세요**~ 뭐 이런 작업을 시키는 파일이라고 보시면 됩니다.

근데 여기다가 다음 코드들을 추가합니다.

```jsx
import 어쩌구 많은곳;

import { **BrowserRouter** } from 'react-router-dom';

ReactDOM.render(
  <React.StrictMode>
    <BrowserRouter>
      <App/>
    </BrowserRouter>
  </React.StrictMode>document.getElementById('root')
);

```

▲ 당연히 다 지우고 복붙하는게 아니라 기존코드와의 차이점만 잘 복붙하시길 바랍니다.

BrowserRouter를 import 해오고 <BrowserRouter>라는 태그를 추가했습니다.

그럼 이제 라우팅할 준비가 끝났습니다.

근데 셋팅할 때 <BrowserRouter> 말고 <HashRouter> 라는 태그도 이용할 수 있습니다.

사용방법은 위의 복붙했던 코드를 Browser라는 단어대신 전부 Hash라고 바꿔주시면 되는데

이게 뭐냐면

- **HashRoute**r를 복붙하시면 **사이트 방문시 URL 맨 뒤에 /#/이 붙은채로 시작**합니다.
- BrowserRouter를 복붙하시면 사이트 방문시 # 그런거 없이 깔끔해집니다.

이게 차이점입니다.

**Q. URL이 #기호로 드러워지는 HashRouter를 왜쓰죠?**

A. 원래는 브라우저 주소창에 뭔가 페이지를 입력하면 **서버에게 특정 페이지좀 보여달라는 요청이 됩니다.**

근데 우리는 요청할 서버가 없고 그냥 **리액트가 라우팅을 담당**하고 있습니다.

그래서 잘못하면 있지도 않은 페이지를 서버에 요청을 해서 404 Page Not Found 이런 에러도 뜨고 그럴 수 있습니다.

**실수로 서버에게 요청하지 않게 하려면 안전하게 #을 붙여주어야합니다.**

왜냐면 브라우저 주소창에서 # 뒤에 붙은 것들은 절대 서버로 요청되지 않으니까요.

**Q. 그럼 BrowserRouter는 안좋은거네요?**

A. 그건 아니고 BrowserRouter를 쓰시려면 그냥 서버에서 셋팅만 잘해주시면 됩니다.

"이런 경로로 들어오는 요청은 404 보내지 말구요~ 전부 리액트가 라우팅하게 해주세요~"

"이 경로로 들어오는 요청은 그냥 리액트 메인페이지로 보내주세요~"

이런 식으로 API를 짜놓으면 됩니다. 물론 서버지식이 없다면 이건 몰라도됩니다.

**라우팅을 해봅시다 (페이지나누기)**

오늘의 목표는 이겁니다.

**(1) / 여기로 접속하면 `메인페이지`를 보여주고 싶습니다.**

**(2) /detail로 접속하면 `상세페이지`를 보여주고 싶습니다.**

근데 이런거 하려면 일단 하는 법부터 알아봅시다.

**라우팅하려면 1. 여러가지 태그들 import가 필요합니다.**

```jsx
 (App.js)

import 많은 곳;
import { Link, Route, Switch } from 'react-router-dom';

function App(){
  return (
    <div>
      HTML 잔뜩있는 곳

    </div>
  )
}
```

▲ 상단에 Route 라는 태그를 import 해오십시오. Link, Switch는 다음시간에 쓸거라 미리 해놨습니다.

**라우팅하려면 2. 원하는 곳에 <Route><Route/>태그를 작성합니다.**

**라우팅하려면 3. <Route>안에 path와 path 방문시 보여줄 HTML 을 적으시면 됩니다.**

```jsx
 (App.js)

import 많은 곳;
import { Link, Route, Switch } from 'react-router-dom';

function App(){
  return (
    <div>
      HTML 잔뜩있는 곳
      <Route path="/">
        <div>메인페이지인데요</div>
      </Route>
      <Route path="/detail">
        <div>상세페이지인데요</div>
      </Route>
    </div>
  )
}
```

▲ 그래서 이렇게 적었습니다.

이제 브라우저 주소창에 입력해보십시오.

/ 으로 접속하면 "메인페이지인데요~"

/detail로 접속하면 "상세페이지인데요~" 가 보입니다.

라우팅쉽습니다. 이게 끝입니다.

이제 "메인페이지인데요~" 라는 div박스말고 메인페이지에 해당하는 HTML을 전부 담고 하시면 멋진 사이트가 완성되겠군요.

참고로 이렇게도 작성가능합니다.

```jsx
<Route path="/어쩌구" component={Card} ></Route>
```

그러면 /어쩌구 라는 경로로 접속했을 때 Card 라는 컴포넌트를 이 자리에 보여줍니다.

그러니 컴포넌트를 가지고 있으면 조금 더 간단하겠죠?

```jsx
<Route path="/어쩌구"> <Card/> </Route>
```

물론 이렇게 쓰는것도 똑같은 기능을 합니다. (더 쉬움)

**`React-Router` 특징 :**

- 각각 페이지마다 다른 HTML 파일을 보여주는게 아닙니다.

HTML 내부의 내용을 갈아치워서 다른 페이지처럼 흉내내는 것일 뿐입니다.

**나는 `/detail`로 접속했는데 왜 상세페이지, 메인페이지 둘다 보여주죠?**

왜냐면 /detail이라고 적으면 /라는 경로도 포함되어있으니까요.

그래서 **/ 경로로 접속했다고 생각하고 메인페이지**

**/detail 경로도 접속했다고 생각하고 상세페이지 둘다 보여주는 것**입니다.

(그냥 리액트 라우터는 원래 이렇게 동작합니다)

그런게 싫으시면 / 경로에 `exact`라는 속성을 부여해주시면 됩니다.

```jsx
<Route **exact** path="/">
  <div>메인페이지에요</div>
</Route>
```

그럼 / 경로와 정확히 일치할 때만 메인페이지를 보여줍니다.

**메인페이지/상세페이지 `Route`에 내용 채우기**

지금은 / 경로 Route에선 "메인페이지에요~" 라는 임시 글자만 보여주고 있는데

여기에 진짜로 메인페이지에 해당하는 HTML들을 옮겨보도록 합시다.

<Navbar>은 모든페이지에 보여야하니 그대로 냅두고,

`<Jumbotron>`이랑 카드3개 레이아웃을 메인페이지 Route에 잘라내기 붙여넣기 하시면 되겠군요.

```jsx
 (App.js)

import 많은 곳;
import { Link, Route, Switch } from 'react-router-dom';

function App(){
  return (
    <div>
      <Navbar></Navbar> (상단메뉴 레이아웃)

      <Route path="/">
        <Jumbotron></Jumbotron> (Jumbotron 대문 레이아웃)
        <>상품3개 카드 레이아웃</>
      </Route><Route path="/detail">
        <div>상세페이지인데요</div>
      </Route>
    </div>
  )
}
```

▲ 그래서 전 이렇게 구성해봤습니다. 여러분 맘대로 하시면 됩니다.

그리고 상세페이지에 들어갈 레이아웃은 제가 마련해봤습니다.

![스크린샷 2022-03-21 오후 8.04.33.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ce427ce6-200c-4f99-b36e-7042fec37ffe/스크린샷_2022-03-21_오후_8.04.33.png)

▼ 이것을 상세페이지로 사용하십시오. /detail로 접속하면 이게 보여야합니다.

```jsx
<div className="container">
      <div className="row">
        <div className="col-md-6">
          <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
        </div>
        <div className="col-md-6 mt-4">
          <h4 className="pt-5">상품명</h4>
          <p>상품설명</p>
          <p>120000원</p>
          <button className="btn btn-danger">주문하기</button>
        </div>
      </div>
</div>
```

## ****React Router 2 : Link, Switch, history 기능****

라우터의 Link 태그, Switch 태그, history의 역할에 대해 알아봅시다.

그리고 그 전에 Detail 페이지에 있던 내용을 Component로 만들어봅시다.

근데 App.js 내용이 너무 길어질까봐 다른 파일에 Detail 컴포넌트를 저장해놓고 App.js 까지 import 해오도록 합시다.

**일단 상세페이지 내용을 담을 <Detail> 컴포넌트를 만들자**

저번시간 /detail 방문시 보여지는 HTML 내용을 길게 복붙한적이 있을겁니다.

그게 너무 길어서 컴포넌트화를 해보도록 합시다. 컴포넌트 이름은 <Detail/> 이라고 합시다.

근데 컴포넌트를 App.js에 만들지 말고 다른 파일에 저장해둔 뒤 App.js까지 import 해오는 방법을 사용합시다.

```jsx
(Detail.js 파일)

import React from 'react';

function Detail(){
  return (
    <div className="container">
      <div className="row">
        <div className="col-md-6">
          <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
        </div>
        <div className="col-md-6 mt-4">
          <h4 className="pt-5">상품명</h4>
          <p>상품설명</p>
          <p>120000원</p>
          <button className="btn btn-danger">주문하기</button>
        </div>
      </div>
  </div>
  )
};

export default Detail
```

▲ 그래서 1. src 폴더 내에 Detail.js 파일을 만들고

2. 컴포넌트 생성하는 코드를 담았습니다. 근데 이거 쓰시려면 맨 위에 항상 import React를 해오셔야합니다.

3. 맨 마지막줄에 Detail 이라는 함수를 export 해주었습니다.

```jsx
(App.js 파일)

import 많은 곳;
import Detail from './Detail.js';
function App(){
  return (
    <div>
      <Navbar></Navbar> (상단메뉴 레이아웃)

      <Route path="/">
        <Jumbotron></Jumbotron> (Jumbotron 대문 레이아웃)
        <>상품3개 카드 레이아웃</>
      </Route><Route path="/detail">
        <Detail/>
      </Route>
    </div>
  )
}
```

▲ 그럼 이제 다른 파일에서 자유롭게 Detail 컴포넌트를 가져다쓸 수 있습니다.

위는 App.js 에서 이 파일을 가져와서 컴포넌트를 자유롭게 활용해본 예제입니다.

이제 배웠으니 컴포넌트가 길어지면 얼마든지 다른 파일로 빼서 저장해두십시오.

(import/export 문법이랑 import React 이것만 잘 기억하시면 됩니다.)

**Link 태그로 페이지 이동버튼 만들기**

메인페이지, 상세페이지 이동버튼을 만들어봅시다.

페이지 상단 메뉴에 만들면 좋을 것 같아서 상단메뉴(Navbar)를 찾아갑니다.

```jsx
(App.js 파일)

function App(){
  return (
    <div>
      <Navbar>
         <Nav.Link> <Link>Home</Link> </Nav.Link>
         <Nav.Link> <Link>Detail</Link> </Nav.Link>
      </Navbar>
      <나머지HTML/>
    </div>
  )
}
```

▲ Navbar 컴포넌트 안에 Nav.Link 라는 컴포넌트에 여러가지 버튼들이 있습니다.

페이지 이동버튼으로 바꾸길 원하는 글자들에 <Link> 태그를 감싸보시길 바랍니다.

(Link 태그는 이전 시간에 'react-router-dom'과 함께 상단에 import 해온 컴포넌트입니다)

```jsx
(App.js 파일)

function App(){
  return (
    <div>
      <Navbar>
         <Nav.Link> <Link to="/">Home</Link> </Nav.Link>
         <Nav.Link> <Link to="/detail">Detail</Link> </Nav.Link>
      </Navbar>
      <나머지HTML/>
    </div>
  )
}
```

▲ 그 다음에 to 라는 속성을 이용해서 경로를 적어주시면 페이지 이동버튼이 완성됩니다.

- Link 태그를 사용하고
- to 속성을 이용해 경로만 지정해주면 됩니다.

어찌보면 <a> 태그 만드는 것과 매우 유사합니다.

그럼 Detail이라는 글자를 누르면 /detail 경로

Home이라는 글자를 누르면 / 경로로 이동합니다.

**다른 방법으로 페이지 이동기능 만들기**

<Link> 꼭 이런 버튼 말고도

코드 실행 중간중간에 페이지를 이동시키고 싶은 경우도 많습니다.

그럴 경우엔 페이지 이동 함수를 사용하시면 됩니다.

예시를 위해 Detail 페이지(컴포넌트)에 뒤로가기 버튼을 하나 만들어봅시다.

그런거 만들고 싶으시면 useHistory() 라는 함수를 하나 import 해오시면 됩니다.

```jsx
(Detail.js 파일)

import React from 'react';
import { useHistory } from 'react-router-dom';

function Detail(){

  let history = useHistory();
  return (
    <div className="container">
      <div className="row">
        <div className="col-md-6">
          <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
        </div>
        <div className="col-md-6 mt-4">
          <h4 className="pt-5">상품명</h4>
          <p>상품설명</p>
          <p>120000원</p>
          <button className="btn btn-danger">주문하기</button>
          <button className="btn btn-danger">뒤로가기</button>
        </div>
      </div>
  </div>
  )
};

export default Detail
```

▲ 1. import 를 저렇게 해오시고 2. let history 라는 변수에 그 함수를 저장하시면 됩니다.

useHistory()는 여러분의 코딩생활을 편하게 해주는 일종의 Hook입니다. (useState 이런거랑 비슷한겁니다)

그럼 이제 history 라는 변수엔 큰 object {} 자료가 하나 저장이 되어있습니다.

그 object 안에는 페이지 이동 내역 + 유용한 함수가 저장되어있습니다.

```jsx
(Detail.js 파일)

import React from 'react';
import { useHistory } from 'react-router-dom';

function Detail(){

  let history = useHistory();
  return (
    <div className="container">
      <div className="row">
        <div className="col-md-6">
          <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
        </div>
        <div className="col-md-6 mt-4">
          <h4 className="pt-5">상품명</h4>
          <p>상품설명</p>
          <p>120000원</p>
          <button className="btn btn-danger">주문하기</button>
          <button onClick={()=>{ history.goBack() }} className="btn btn-danger">뒤로가기</button>
        </div>
      </div>
  </div>
  )
};

export default Detail
```

history에 저장된 여러 자료들 중 가장 유용한건 goBack()이라는 함수입니다.

이 함수를 실행하면 페이지가 뒤로갑니다.

▲ 그래서 뒤로가기 버튼을 눌렀을 때 goBack() 함수를 실행하도록 코드를 짜본겁니다.

그럼 이제 뒤로 잘 가죠?

**Q. 이런걸 어케알고 코드를 짜는거죠?**

A. 이런 라이브러리 사용법은 찾아서 읽거나 검색해봐야 알 수 있습니다. 저도 찾아본거임

그럼 커스텀 페이지로 이동하는 기능을 만들고 싶으면

라이브러리 사용법에 따라 push() 함수를 꺼내쓰시면 됩니다.

```jsx
(Detail.js 파일)

import React from 'react';
import { useHistory } from 'react-router-dom';

function Detail(){

  let history = useHistory();
  return (
    <div className="container">
      <div className="row">
        <div className="col-md-6">
          <img src="https://codingapple1.github.io/shop/shoes1.jpg" width="100%" />
        </div>
        <div className="col-md-6 mt-4">
          <h4 className="pt-5">상품명</h4>
          <p>상품설명</p>
          <p>120000원</p>
          <button className="btn btn-danger">주문하기</button>
          <button onClick={()=>{ history.push('/') }} className="btn btn-danger">뒤로가기</button>
        </div>
      </div>
  </div>
  )
};

export default Detail
```

▲ push() 라는 함수를 쓰시고 안에 경로를 입력하시면 그 경로로 이동합니다.

이런 기능도 유용하겠죠?

**Switch 컴포넌트에 대해 알아보자**

맨 처음 라우터 import 어쩌구 해왔을 때 { Link, Router, Switch } 이렇게 3개의 컴포넌트를 import 해왔었습니다.

그 중 <Switch> 라는건

**매치되는 <Route> 들을 전부 보여주지 말고 한번에 하나만 보여주세요~** 기능을 만들고 싶을 때 씁니다.

예를 들기 위해 이거 하나만 따라적어봅시다.

```jsx
(App.js 파일)

function App(){
  return (
    <div>
      <나머지HTML/>
      <Route exact path="/">
        어쩌구
      </Route><Route path="/detail">
        <Detail/>
      </Route><Route path="/:id">
        <div>새로 만든 route입니다</div>
      </Route>
    </div>
  )
}
```

▲ 기존 <Route> 들 있던 곳에 새로운 <Route> 하나만 맨 밑에 하나 추가했습니다.

새로운 Route는 path를 /:id 라고 적었는데, 이게 뭐냐면 URL 파라미터라는 문법인데

그냥 / 슬래시 뒤에 모든 문자가 오면 이 Route로 안내해주세요~를 뜻합니다. (다음 시간에 배울 예정)

암튼 아무 문자나 넣어도 이 경로로 이동을 시켜주라고 코드를 짜놓았습니다.

**Q. 그럼 /detail로 이동하면 어떤게 보이죠?**

**A. (1)** **<Detail> (2) <div>새로 만든 route입니다</div>** 이거 둘다 보여줍니다.

(왜냐면 리액트 라우터는 그냥 URL 매치되는 것들 전부 다 보여준다니깐요)

이런걸 방지하고 싶다, 그냥 한번에 하나의 <Route>만 보여주고 싶다 그러면

<Route>들을 위에서 import 해온 <Switch> 태그로 감싸면 됩니다.

```jsx
(App.js 파일)

function App(){
  return (
    <div>
      <나머지HTML/>
      <Switch>
        <Route exact path="/">
          어쩌구
        </Route>
        <Route path="/detail">
          <Detail/>
        </Route>
        <Route path="/:id">
          <div>새로 만든 route입니다</div>
        </Route>
      </Switch>
    </div>
  )
}
```

▲ 다 감싸면 이제 여러개의 Route가 매칭이 되어도 **맨 위의 Route 하나만** 보여줍니다.

이걸 응용하시면 이전시간에 겪었던 / 경로 문제도 exact 쓰지않고 해결할 수 있습니다.

답은 안알랴줌이니까 잘 생각해보십시오.